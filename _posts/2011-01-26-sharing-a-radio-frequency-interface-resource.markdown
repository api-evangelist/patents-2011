---

title: Sharing a radio frequency interface resource
abstract: Applications may seek access to a radio frequency interface resource on a processor-based system that exceeds the available capacity of that resource. When more than one application needs access to an RF interface resource at the same time and the available capacity of the RF interface resource does not permit all these requests to be granted, contention resolution may be provided. In one embodiment, the contention resolution may involve determining the priority of each application seeking RF interface resource access and granting access based on that priority.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08165631&OS=08165631&RS=08165631
owner: Intel Corporation
number: 08165631
owner_city: Santa Clara
owner_country: US
publication_date: 20110126
---
This application is a continuation of U.S. patent application Ser. No. 12 496 830 filed Jul. 2 2009 now U.S. Pat. No. 7 899 493 and entitled SHARING A RADIO FREQUENCY INTERFACE RESOURCE which is a continuation of Ser. No. 10 331 687 filed Dec. 30 2002 now U.S. Pat. No. 7 574 233 issued on Aug. 11 2009 and entitled SHARING A RADIO FREQUENCY INTERFACE RESOURCE the content all of which is hereby incorporated by reference.

This invention relates generally to radio frequency RF interface resources that provide access to media.

The phrase RF interface resource refers to the hardware and software components of transmitters receivers and transceivers used by applications to send or receive signals communicated over the radio frequency range of the electromagnetic spectrum or to process data carried in those signals or communicated through other means such as over a traditional data network or through a software interface. This data can be in the form of audio video voice data or any combination thereof. Examples of applications that use media carried over RF signals include TV viewing music radio listening and voice data communication and exchange. RF signals may be carried over a variety of communications links including over the air terrestrial sources satellite sources and wireless communications networks. In addition to being carried over RF frequencies data processed by RF interface resources may be communicated in the form of packet based data carried over traditional copper wire or optical fiber based data communications networks. For example the data processed by an RF interface resource may be communicated as signals over a television antenna a DSL modem a cable modem a coaxial cable TV connection. Alternatively data processed by an RF interface resource such as an MPEG 2 transport stream processed by a demultiplexer may be carried as data communicated over a USB connection by a network interface card NIC or even through a software programming interface.

A personal computer PC may have a television TV add in card installed which provides TV program viewing on the PC. In addition to viewing of TV as it is broadcast many of today s newer cards provide video cassette recorder like functions such as recording TV programs when aired for later viewing using the hard disk for storage of the program. Some TV cards provide support for both analog and digital television viewing. Particularly with the advent of digital television TV signals can also carry data services in addition to normal TV programs. Some examples of data service applications include the delivery and download of movies music software games news and Internet content. The applications receiving this content can be customizable according to user preferences to only receive the content the user is interested in. Just like TV programs these data services may be scattered across many different RF frequencies or TV channels. 

Conflicts arise between multiple applications wanting to tune to different TV channels at the same time. A TV program recording application may want to tune to channel 3 to record a preselected program at the same time the user is watching TV with the TV viewer application on channel 5. At the same time a PC games download service application might need to turn to channel 10 to get the game the user asked for. The first conflict in this example is over which application gets to tune the tuner to its channel. Even if the system had three independent tuners each with its own demodulator and demultiplexer a second conflict could occur over the use of a common decoder needed to convert protected or encrypted content into a form useable by each application.

Because current systems allow each application to get direct access to these resources one application can interfere with the correct operation of other applications leaving the user clueless as to why a problem occurred. For instance the TV viewer application because it lets the user change the TV channel whenever she wants to may make it impossible for the TV recording application to record desired programs and the PC games service to successfully download a game even though the user has paid money for the service . Because of conflicts over the use of these shared resources the user is usually left completely in the dark as to why the other applications fail especially if they were the reason why the user invested in a TV card to begin with . The result is equally unsatisfying for data service providers and operators who depend on content being successfully downloaded in order to collect revenue.

Thus there is a need for ways to resolve contention when the number of active applications requiring the use of an RF interface resource exceeds the number of available RF interface resources.

Referring to a platform may include one or more radio frequency RF interface resources such as resources A and B each coupled to a unidirectional or bi directional communication link interface . Signals and data may be carried over a variety of communications links including over the air terrestrial sources satellite sources wireless communications networks and copper wire or optical fiber based data communications networks. Examples of the communication link interface used by the RF interface resource to communicate the signals and data it processes include a television antenna a DSL modem a cable modem a coaxial cable TV connection a USB connection a network interface card NIC or an application programming interface API or other software interface mechanism to communicate data between the RF interface resource and a software program or the operating system. The resources A and B may be transmitters receivers or transceivers or the individual components thereof such as one or more of the following a tuner an encoder a decoder a multiplexer a demultiplexer an encryptor a decryptor a modulator and a demodulator .

The RF interface resources may be coupled to an arbitration module . The arbitration module receives all requests for the resources from applications such as the applications and that are active on the platform. The arbitration module controls access to and from the radio frequency interface resource . In some embodiments the arbitration module may be a software component and in some cases it may be a portion of an operating system. The arbitration module may allow access to the resources on a selective basis. The arbitration module enforces a priority scheme to decide which application is granted access to one or more RF interface resources .

It should be understood that in some cases N resources may be accessible to M applications where M is greater than N. Thus contention may result and the arbitration module may be responsible for serving up access to the N resources by the M applications according to a priority scheme.

Some embodiments of the present invention may support a multitude of media services transmitted or received at different times and over different radio frequencies in an environment constrained by a limited number of RF interface resources.

Media in the form of audio video voice or data or any combination thereof can be communicated over signals carrying data. Examples of how signals and data may be carried include over the air terrestrial or satellite transmission and copper wire or optical fiber networks. An example of a media service is the delivery of Video On Demand application where movie content is delivered in an MPEG 2 transport stream to a PC or Set top box for viewing Another example of a media service is a rich multi media Internet application where content is delivered to a cell phone or personal digital assistant PDA . Another example of a media service is a gaming or software application where games or other software is delivered to a handheld or portable computer a desktop PC or a wireless appliance. Still another example is an MP3 music or MPEG 4 video content is received on your mobile phone or PDA or the reverse where pictures captured and uploaded by your mobile phone or PDA are transmitted to someone else.

A variety of media services may be provided as a variety of RF frequencies or channels just as there are many television channels for TV programs. In fact television programming is just another example of a media service where the media is television programs which are delivered on a plurality of RF frequencies reserved for television. In addition to carrying television programs those same television RF frequencies can also be used to carry other media services like the Video On Demand or other data services mentioned above. Unlike television programming in general though media services need not be delivered on continuous 24 7 basis. Rather some media services may only be available at particular time periods. This is frequently the case for data services now being delivered over analog and digital television. Data content which could include things like video games software Internet news stock listings etc is often broadcast during discrete noncontiguous blocks of time throughout the day. Even where data services are broadcast on a continuous basis data is usually rebroadcast repeatedly over a time period to ensure that the data gets received. Many media service applications tailor what content is actually received to match user preferences meaning some content is deliberately skipped or ignored.

As an example platforms such as televisions PCs PDAs or mobile phones phones having only a single radio frequency tuner can only be tuned to a single radio frequency carrier at a time. In some cases more than one of a given type of RF interface resource is provided but even so any given platform can only receive or transmit on a finite number of radio frequencies at any given time and be similarly restricted on the number of data signals it can process simultaneously as many as the number of give resources allow. In practice the number of concurrent uses for RF interface resources will always exceed the number of RF interface resources available in any practical system.

When services which use different RF frequencies attempt to operate concurrently conflicts may arise over the RF interface resource used to receive or transmit content. Similar conflicts between applications may arise over a particular resource like an encoder or decoder used to process content for viewing rendering or play back after it has been received or before it will be transmitted. These conflicts may arise because more than one application may require the use of the same RF interface resource at any given time. For example three different data service applications may compete for the TV tuner each wanting to tune to its channel to receive its content. When the number of simultaneous requests for resources exceeds the number of available RF interface resources a problem arises.

In one embodiment the contention resolution may involve determining the priority of each application seeking RF interface resource access and granting access based on that priority. Priority is the recognized right to precedence of one application over another for example by order of urgency or importance. Priority may be assigned in any viable way. In some embodiments priority can be based on any number or combination of factors including but not limited to user preferences whether an application is paid for or free the order in which an application appeared was selected or installed when or where an application is available whether an application is essential to the operation of the device or whether an application requires other hardware or software resources that may or may not be present on the system. Priority may be assigned by the user the application or the system or any combination thereof to mention a few examples.

Referring to a processor based RF reception platform may include a processor based system . The system may include the RF interface resources and the arbitration module in one embodiment. The system may be a personal computer a set top box a PDA or a mobile phone to mention a few examples. The system may be coupled to an output device such as a display system such as a television or a computer monitor a built in display such as an LCD panel or may simply use a speaker for output. The system may be coupled to or include an input device such as a keyboard keypad mouse touchpad pointing device remote control unit or microphone for receiving commands and inputs from the user. The input device in one embodiment may be used to change channels on a system with a broadcast TV receiver. A signal may be received by an interface from an antenna a satellite receiver a cable receiver or a computer network including the Internet to mention common examples. The data processed by the RF interface resource may even be communicated by another application via a software programming interface.

An RF interface resource in one embodiment may be a television add in card on a PC comprising a tuner demodulator demultiplexer or decoder. Some embodiments may arbitrate the use of these components individually or in groups of one or more components. An RF interface resource may be implemented in hardware or software or in any combination of hardware and software.

The system may include an interface that interfaces the system with the resources . The interface in one embodiment of the present invention may be coupled to a bus in turn coupled to an interface that may be a bridge in one embodiment. The interface in one architecture may be coupled to a storage a processor and the input device . While in one embodiment the output device may act as the display for the processor based system and the display for media in other embodiments separate displays may be available. In addition while one architecture for a processor based system is shown in the present invention is applicable to any available architecture.

The storage in one embodiment of the present invention may be a hard disk drive HDD or a non volatile storage device such as flash memory. The storage may store a plurality of applications requiring access to RF interface resources . In addition a resource arbitration module may also be stored on the storage .

In accordance with one embodiment of the present invention contention between applications seeking access to the interfaces may be resolved in an advantageous fashion. This contention may arise because multiple applications may wish to access the same RF interface resource at the same time so that the number of requests exceeds the capacity of the system s available resources.

Referring to the arbitration module controls the ability of applications to access the resources . The requests for the resources are scheduled as indicated in block . A schedule is provided that reserves given time slots for given resources as requested by various applications in accordance with one embodiment of the present invention. In one embodiment applications may be assigned time slots to access resources needed to receive data that they expect to be broadcast for example based on an available schedule of data service broadcasts.

A check at diamond determines whether a conflict exists. A conflict or contention arises when two different applications request access to a limited number of resources at the same time and the requested number of resultant resource usage requests to receive the data services exceeds the capacity of the system such as requests to tune to three different television channels by three applications when only two television tuners are present to mention one common example. Some other common example would be conflicting requests over an HDTV demodulator an MPEG 2 transport stream demultiplexer or an MPEG 4 decoder. If no conflict arises the flow simply grants use of the resource according to the prearranged schedule as indicated in block .

If a conflict is identified in accordance with one embodiment of the present invention the arbitration module may issue a request to the various applications to indicate their priorities. Alternatively that priority information may already reside in the arbitration module or may be separately accessible by the application from a database or may require prompting of the user to supply information as additional examples.

The priority information may be received from the applications in accordance with one embodiment of the present invention as indicated in block . In accordance with one embodiment of the present invention a conflict resolution may be devised based on the relative priorities of different applications as indicated in block . For example in the situation where two applications are requesting resources in the same time period and sufficient resources are not available to provide all requests the system may allocate the resource based on the priority of different applications . Namely the application with a higher priority gets the requested resource if available.

In such case the applications that receive the requested resource are so advised as indicated in block and those applications which did not receive the requested time slots are also apprised. In some cases responses to the allocation may be received from applications in block . In such cases these responses may advise the application that while the request was made for a given time slot the application still wants that time slot or some part thereof if it subsequently becomes available. Also a given application may advise the arbitration module that the application may be able to use less than all of the available time that it requested. As still another alternative some applications that receive priority may advise that they may be able to yield that priority over a portion of the allocated time period.

The circumstances that permit a given application to yield its allocation are various. As one example an application may receive sufficient information in less than the entire allocated time period to enable it to achieve the function that it needs to achieve. In such case the application may then yield its allocation after receiving all the data it needs.

As indicated in block check times are set. The check times are times developed based on the application responses to re check if an application that received the allocation may be able to yield all or part of the allocated resource. Even though the contention may be resolved by assigning the resource based on priority a recheck may have been requested by an application to determine whether another application subsequently can yield its allocated resource. As one example in some cases the same content may be repeatedly broadcast. An application may therefore receive the information it intended to access in a given time slot at an earlier time and therefore may be willing thereafter to yield its resource allocation.

A check at diamond determines whether a check time has arisen. The check time may correspond to the time of the resource contention or may be slightly before or even after that time.

At block when the check time has arrived a request for yield may be provided to the higher priority application as indicated in block . If the yield request is granted the schedule may then be revised as indicated in block . Thereafter the interface is operated according to the schedule as indicated in block .

In some embodiments the arbitration module may be part of an operating system layered on top of an operating system an application program or part of an application program interface API . Examples of RF interface resources that are arbitrated include a tuner a demodulator a modulator a demultiplexer a multiplexer an encoder a decoder. Encoding and decoding can mean converting data from one format to another or converting data from an encrypted format to an unencrypted format. The arbitrated or exclusive use of these resources by applications may be controlled individually as individual resources or as a combination several components combined into one logical resource. In some embodiments it may not make sense to have access to the tuner without access to the demodulator demultiplexer and decode components as well hence they may be bundled together as a single logical resource. In other embodiments it may make sense to keep components separate to allow concurrent use of all components in certain combinations e.g. those needed for reception for storage and later playback versus those components needed just for playback of previously recorded content . The granularity or scope of resource arbitration that would be appropriate depends on the needs and purposes of the particular system and its applications.

Each of the applications may include a module that interconnects with the arbitration module in accordance with one embodiment of the present invention as shown in . Initially each application forwards a resource request to the arbitration module as indicated in block . Thus based on available scheduling information a given application knows that it needs to a resource for a particular time period. Therefore the application makes the request for this resource to the arbitration module .

Thereafter the application eventually receives a request for priority information from the arbitration module if a conflict arises. If no priority request is received then it may be determined after the passage of time the request was granted. If a priority request is received as indicated in diamond the requested priority information may be provided from the application in one embodiment as indicated in block . Thereafter the resource requesting application receives a conflict resolution as determined in diamond .

If the request is unsatisfied as indicated in diamond a yield may be requested in some cases as indicated in block . For example if the application determines that it must have the resource if at all possible it can formulate an appropriate yield request to the arbitration agent . The application then awaits a decision on the yield request.

Simultaneously a higher priority resource allocated application may receive yield requests from the arbitration agent as indicated in block . If a yield request is received an application makes a yield decision as indicated in block . It then communicates that yield decision to the arbitration agent as indicated in block .

As two examples an application may yield when it either has processed all the data it needs or the data it still does not have may be communicated in a future time slot where there are no conflicts. Either condition may be known by the potentially yielding application the system or both. For the application to know that it has processed all the data it needs to additional metadata like a data manifest that lists all the necessary data resources may be provided. The application may have received all of the data it needs as determined from the manifest and the data may be communicated repeatedly. Metadata may also indicate what data is essential which data is optional and which is available by other means. As an example a video on demand application may not yield if it was receiving a movie it knows the user wants but it may yield if it knows its cache is already full of next week s movie trailers and that is what is being rebroadcast now.

An application or the system itself may know that a resource may not be needed until a future time due to the availability of scheduling information which indicates when data may be communicated. This scheduling information may be made available in a variety of fashions including system information carried in the signal itself or the use of electronic programming guides. Information about what data will be communicated repeatedly and when may be simply additional metadata that may be exposed to the application or system in order to determine whether a yield can happen.

In depicting one embodiment there are three data services X Y and Z being offered on three different physical channels A B and C which represent three different RF television frequencies. It may be assumed that the time scale covers twenty four hours and each service time period is repeated at the same time every day. It can also be assumed that the system has only one television tuner that can be controlled exclusively by one application at a time.

If all service applications X Y and Z start running at system start time each service requests the system to tune to its respective channel during its requested time slot. The service X request would be granted unconditionally because there are no competing application resource requests. The service Y and Z s request would be handled based on the respective priorities in one embodiment. If service Y has a higher priority then its request would be granted unconditionally and the television tuner would be tuned to channel B starting at time T for as long as service Y wants the bandwidth up until time T. Service Z would not have a chance at the television tuner until time T or sooner if the service Y yields the tuner before then .

If the service Z has a higher priority than the service Y the platform may respond in one of two ways in one embodiment. The platform may tell the service Y that it may tune to channel B until time T leaving the choice of whether to tune there at all to the service Y. The service Z would definitely get its data on channel C starting at T until T. If the service Y does not want the tuner as long as it can get it shortly before the time T the system may check with service Z to determine if the service Z is willing to yield until time T. If the service Z is willing to yield the system may stay tuned to channel B until time T. If the service Z is not willing to yield the platform may tune to channel C at time T. If the service Z yields the tuner anytime before time T the system may see if service Y still wants the bandwidth and if so turn back to channel B.

While the present invention has been described with respect to a limited number of embodiments those skilled in the art will appreciate numerous modifications and variations therefrom. It is intended that the appended claims cover all such modifications and variations as fall within the true spirit and scope of this present invention.

