---

title: Guided navigation system
abstract: A navigation system is used in combination with a data retrieval system to more effectively locate the correct answers or information in search content. The navigation system provides taxonomies that identify different information categories and sub-categories (facets). Classifiers automatically classify the search content by identifying the content corresponding with associated facets. The facets, in conjunction with the associated classifiers, provide robust classification and correlation between both structured and unstructured content. Rules can be used in conjunction with the facets and classifiers to automatically control different navigation operations. The navigation system can also leverage ontologies to dynamically create taxonomies and provides unique facet expansion and intra-document classification operations.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08296284&OS=08296284&RS=08296284
owner: Oracle International Corp.
number: 08296284
owner_city: Redwood Shores
owner_country: US
publication_date: 20110112
---
The present application is a continuation of U.S. patent application Ser. No. 11 382 670 filed May 10 2006 entitled GUIDED NAVIGATION SYSTEM which is incorporated by reference in its entirety.

Current search engines receive a search request entered by a user and then identify and present the search results back to the search requester via a User Interface UI . The search results may be ranked in some order based on for example the presence of important words or concepts in the identified documents.

Unfortunately these search and display techniques often do not efficiently organize the information sought by the searcher. For example the information or document sought by the user may be buried in one of the many different documents or data returned in the search results. The user is then required to manually open and read dozens if not hundreds of the data items returned from the search results before identifying the correct or most pertinent document.

In yet another situation the search requester may not know the correct search terms needed to direct or narrow a search to discover the desired document or information. Thus the user is relegated to conducting multiple different time consuming searches attempting to locate the correct group of documents or information. The user has to then wade through all of the results from each search until a particular document or piece of information is discovered.

A navigation system is used in combination with a data retrieval system to more effectively locate the correct answers or information in search content. The navigation system provides taxonomies that identify different information categories and sub categories facets . Classifiers automatically classify the search content by identifying the content corresponding with associated facets. The facets in conjunction with the associated classifiers provide robust classification and correlation between both structured and unstructured content. Rules can be used in conjunction with the facets and classifiers to automatically control different navigation operations. The navigation system can also leverage ontologies to dynamically create taxonomies and provide unique facet expansion and intra document classification operations.

The foregoing and other objects features and advantages of the invention will become more readily apparent from the following detailed description of a preferred embodiment of the invention which proceeds with reference to the accompanying drawings.

Other web servers may operate outside of the enterprise and may include associated web files or other web content . Examples of content stored in enterprise database and in file server may include HTML web pages PDF files Word documents structured database information or any other type of electronic content that can contain essentially any type of information.

Some of the information may be stored in a structured format referred to generally as structured content. For example data may be stored in the enterprise database in a preconfigured format specified for enterprise . For example a book or vehicle price list may be considered structured content. Alternatively other information that is contained in enterprise database or contained on other web servers may be considered non structured content. This may include HTML web pages text documents or any other type of free flowing text or data that is not organized in a preconfigured data format known by the navigation system .

A search query may be initiated from a terminal through a User Interface UI . The terminal in one example may be a Personal Computer PC laptop computer wireless Personal Digital Assistant PDA cellular telephone or any other wired or wireless device that can access and display content over a packet switched network. In this example the search query is initiated from the UI and transported over the Internet to the enterprise server . The enterprise server operates a data retrieval system that may search for both structured and or non structured content either in the enterprise database or web server pursuant to the query initiated in UI .

A novel navigation system is then used to classify and navigate through the search results provided by the data retrieval system . The information as classified by the navigation system along with other taxonomy information is then displayed on the UI .

The enterprise server includes one or more processors that are configured to operate the data retrieval system and navigation system . The operations performed by the navigation system could be provided by software computer instructions that are stored in a computer readable storage medium such as memory on server . The instructions are then executed by a processor in server .

It should be understood that the examples presented below are used for illustrative purposes only and the scope of the invention is not limited to any of the specific examples described below.

The data retrieval system in conducts a search in the enterprise database and possibly in other external web servers for content related to the DRAGON question . The results of the search are displayed on UI as answers . In this example the answers include both structured content and possibly unstructured content . As described above the structure content may include information that is preconfigured into predefined fields. For example each entry in a book list contained in the enterprise database may contain a cover field A that shows the cover of the book an author field B that identifies the book s author a title field C that identifies the book title and a price field D that identifies the book price. The content for each one of these fields for books that satisfy question are displayed as structured content answers . Each structured content answer could also contain a buy button field E used for purchasing the book.

The answers may also contain unstructured content that may not have predefined data fields. For example a first book review A may have been located somewhere in the enterprise database or on a web server and may describe a book related in some way to the question DRAGON. Similarly another review B may be identified on the enterprise database or on another web server that is somehow also related to the DRAGON question . This content is considered unstructured or free flowing because the content is not presented in any particular preconfigured format. For example the reference to a book related to DRAGON may be located anywhere in the book reviews A and B.

Of particular interest in the UI is the display of a taxonomy that identifies different classifications and sub classifications for the content in answers . These classifications and sub classifications are alternatively referred to as facets. In this example the taxonomy includes a first price taxonomy A that includes a first set of facets A that are associated with book prices a second year taxonomy B that includes a set of facets B associated with book publication dates and a third author taxonomy C that includes a set of facets C associated with book authors.

Different taxonomies may be preconfigured in the navigation system . The taxonomies associated with question or with a particular enterprise are selected by the navigation system or the user and displayed in UI . In some applications some or all of the taxonomy is dynamically generated by the navigation system. This will be described in more detail below.

An associated number may be displayed that indicates the number of content items and that correspond with a particular facet . For example the search results answers for DRAGON may have produced a total of structured content items and or unstructured content items related to DRAGON books in a price range between 0 5. Similarly the navigation system may have identified a combination of twenty two structured content items and or unstructured content items related to books published between 1980 and 1989. A process referred to as classification automatically classifies the content used to produce the answers with different facets in taxonomy . Classification is also described in more detail below.

When a user selects one of the facets in taxonomy the navigation system automatically displays the structured and unstructured content and respectively classified for the selected facet . For example selecting the 5 10 facet A causes the navigation system to display twenty six answers that are all associated somehow with dragon books within a price range of 5 10.

As mentioned above a facet is another name for an item in a taxonomy a taxonomy item . The facets can be referred to by a string constructed from the names of the facets along the path from the root of taxonomy to the facet. For example each name may be separated by a period . and all other periods may be preceded by a backslash. For example the 1980 89 facet in might be referred to as Books.Year.1980 89. 

In the question is entered through the UI shown in . The question in one embodiment is analyzed by the data retrieval system that may use an Intelligent Matching Language IML . The operation of IML for retrieving data is described in co pending patent application Ser. No. 10 820 341 filed Apr. 7 2004 entitled AN IMPROVED ONTOLOGY FOR USE WITH A SYSTEM METHOD AND COMPUTER READABLE MEDIUM FOR RETRIEVING INFORMATION AND RESPONSE TO A QUERY which is herein incorporated by reference.

Briefly the IML allows content searching for documents that contain the same concept that is described in the question for example. The navigation system then provides navigation of the content provided by the IML or can be used with any other data retrieval system that does not use IML .

As described above in the data retrieval system obtains content either from databases associated with the enterprise or from other non enterprise locations via Internet . The content can be any type of electronic information that may relate to the question . For example the content may be a Microsoft Word PDF Powerpoint HTML RTF or DBASE document etc. or any other type of document text or data item that contains information associated with question . These of course are only examples of data formats and it should be understood that the content can be any type of electronically captured data or text identified by data retrieval system .

As previously mentioned in the content may include both structured content and unstructured content . The structured content has predefined data fields . In the book example the data fields in structured content A may contain the book author book title and book price. Other structured content B may also be contained in content that has a different prefigured data structure. As also mentioned above the unstructured content may simply be free flowing text or some other text or data that is not presented in a predefined structured format.

The navigation system uses classifiers and to seamlessly associate both the structured content and the unstructured content with the same associate facets . The taxonomy by itself is just an association of classification items and has no direct connection to the content . The connection between content and specific facets is provided by the classifiers and . These classifiers and include procedures that identify the pieces of content that are associated with particular facets .

For example the structured content classifier may be associated with price facet A that identifies a book price range category of 0 5. Accordingly the structured classifier may include procedures that access the price field D in structured content A and identifies any books with a price between 0 5.

Of particular interest is the association of the structured classifier and the unstructured classifier with the same facet A. Unstructured classifier includes procedures that parse through the unstructured content for any documents that may indicate a book price in a range between 0 5. For example the unstructured content classifier may parse through web pages to identify metadata that refers to a book having a price between 0 5.

In one example each piece of content is assigned an associated Identifier ID during the data retrieval process by data retrieval system . Upon identifying content corresponding with the associated facet the classifiers and then load the document ID for the identified content into an associated facet list A. There are ID lists A C associated with each facet. In this example the unstructured document A is identified by unstructured classifier as associated with facet A and the associated ID A entered into list A. Similarly the structured document B is identified by structured classifier as associated with facet A and the associated ID B entered into facet list A.

When the taxonomy is displayed on UI in the number of content IDs for both structured and unstructured content that are possible results for the user s query are counted and displayed as document numbers in . Thus both structured and unstructured content and respectively is seamlessly associated with the same facet using classifiers and .

It should be understood that any combination of different classifiers and can be associated with any combination of facets . In the example above both a structured classifier and an unstructured classifier are each associated with a same facet A. However there could be additional structured or unstructured classifiers associated with the same facet A. For example facet A may use another different structured classifier to classify other structured content B. Further other types of unstructured classifiers may be associated with facet A to parse through different types of unstructured content .

There also may be one classifier associated with multiple different facets . For example a classifier may be abstracted to identify any content that indicates a book price. A taxonomy builder used by the classifier may then further refine classification of the identified content down to specific price ranges associated with the different price facets A B and C. This is described in more detail below.

In another embodiment a same classifier may include procedures for identifying facet related content in both the structured and unstructured content and respectively. However there may be advantages to using separate structured and unstructured classifiers such as reduced software modification and increased software efficiency for different structured and unstructured data formats.

Some of the classifiers such as unstructured classifier may also use the IML to more effectively identify content associated with a particular facet . For example the intelligent association of different concepts with a particular facet allows the classifier to identify content that may not necessarily use the exact same words used in the facet. For instance the IML in unstructured classifier may be used to identify unstructured content that contains a book price but does not necessarily use the symbol or use the word dollar . For example the IML may associate the symbol and the word dollar with the words Euro bucks cost Yen etc. The facet may then simply apply a concept such as or . The IML in classifier which then automatically identifies any other documents that contain words associated with the concept.

The classifiers in this example are associated with book information. But of course as previously mentioned above the taxonomy facets and associated classifiers are adaptable to any subject matter.

For this reason some classifiers may not just identify the content associated with a particular facet but may also further subdivide the identified content into subparts. This is performed by a taxonomy builder. Alternatively a custom taxonomy builder can be built and used. The taxonomy builder takes the data from a classifier and uses it to construct a new taxonomy that is attached underneath an existing facet. Each time the content is classified this taxonomy is reconstructed based on any new information.

For example shows one example where an existing taxonomy may include price year and author facets A B and C respectively as described above in . However the price facet A may not have the sub category facets A B and C that previously existed in . Alternatively a taxonomy builder is used by a classifier associated with the price facet A. The classifier searches content for any documents that identify the price of books.

The procedures in the taxonomy builder then automatically classify any identified content into different sub categories such as 0 5 5 10 10 15 etc. The taxonomy builder then generates a taxonomy under price facet A that includes new facets A D associated with different price ranges. The taxonomy builder can then attach the newly created taxonomy under the general price facet A previously created in taxonomy . The classifier then classifies the content for each newly built facet .

In this example the same or a similar ontology is also used for classifying the content that was identified by the data retrieval system . The ontology in this example is associated with the concept vehicle model . The vehicle model concept may have multiple different categories such as sedan minivan truck etc. Under the sedan concept there may be multiple different sub concepts that include Accord Civic and Taurus etc.

Any concept or sub concept can be referred to in IML . For example the sub concept Accord may be referred to as using the IML . As described above the IML is used in the classifiers to automatically identify other words and phrases associated with the concept .

The taxonomy builder uses all or a portion of the ontology to automatically build a taxonomy . In this example the taxonomy builder extracts a section of ontology and inserts it into an associated sedan section of vehicle model taxonomy . In this example each sub category in section of ontology is converted into an associated facet in taxonomy .

The taxonomy builder then automatically builds classifiers for each of the automatically created facets A C in taxonomy . For example an Accord unstructured content classifier A may be built by taxonomy builder to classify unstructured data in content associated with the concept specified by facet A. Classifier A may be built by taxonomy builder to use IML to search for the concept in the unstructured data in content . The taxonomy builder may also automatically create an Accord structured content classifier B to classify structured data in content associated with the Accord facet A. Other classifiers may similarly be generated for the other automatically created facets B and C.

As described above the navigation system is not restricted to documents as the only level of search granularity. Content can also be classified in sentences sections or any other arbitrary document portion. This is especially useful for taxonomies or facets that are heavily represented in the content. For instance an insurance company might have many documents that each discuss different types of insurance. With document level classification the user can restrict the query to say auto insurance but still get many other documents discussing other different types of unrelated insurance. For example auto insurance may still appear inconsequentially somewhere in many documents. With intra document classification a sentence or section specification increases the likelihood that all returned results are associated with auto insurance.

To explain further shows a taxonomy that is associated with vehicles. The taxonomy may have different vehicle model categories that in this example include sedans minivans and trucks. Any of the section or subsection facets can be specified at different intra document granularities. For example the facet associated with the concept minivan may be defined on a document section or sentence intra document granularity. Of course other intra document granularities can also be used and the three granularities described here are just examples.

The minivan document facet A is used by classifier to identify any document in content that contains the concept in a manner similar as discussed above. However the section facet B causes the classifier to only identify document sections that contain the concept . A document section could be defined for example as a paragraph a grouping of text separated from other text by a line space or any other delineation between groups of text. The sentence facet C only identifies sentences in content containing the concept . In the cases of sections and sentences only answers that overlap these sections and sentences are shown to the user if that facet is selected.

To explain further a user enters the text question 4 wheel drive . The data retrieval system retrieves content that includes document A and document B. One or more intra document classifiers are associated with the minivan facet and produce different results depending on the intra document classification used in facet .

For example the minivan document classification facet A may be analyzed as the IML statement DOC by classifier . Accordingly classifier identifies all documents in content that include the concept . In this example both document A and document B would be identified in results A since the concept minivan is contained in both 4 wheel drive documents.

The minivan sentence classification facet C is analyzed as the IML statement SENTENCE by classifier . Classifier identifies all sentences in content that include the concept . In this example only document B includes both the concept and the concept in the same sentence and thus that answer and not document A is shown. Similar classification is used for the minivan section classification facet B where an IML statement SECTION is used by classifier to identify any sections within documents that contain the concept .

In many query systems it is difficult to back out of selections. The navigation system allows a user to back out of a selection at any time to any level. The user can also expand the scope of a natural language query. For example the user may enter the query What books were published in 1992 . After receiving search results the user could then easily expand the scope of the query to include books published between 1990 1999. In another example the navigation system may receive a question for a particular car model. The navigation system may identify content for different types of sedans. The user can then expand the scope of the query to other types of sedans after asking a first more specific question related to a particular car model.

In addition to the answers the navigation system also displays a taxonomy that is related to the question . In this example the question is related to a particular vehicle model. Accordingly the navigation system may present a model taxonomy that includes the facets sedan and Outback since Outback was requested by the question and sedan is its parent.

The navigation system provides the substantial advantage of allowing the user to then automatically expand the previous search by selecting one of the displayed facets. For example the user may then select the facet related to the broader category of sedans.

Referring to the navigation system automatically rewrites the previous question to correspond to the selected facet . For example the navigation system may rewrite the previous question SUBARU OUTBACK WITH 4 WHEEL DRIVE as a new question that specifies SEDAN WITH 4 WHEEL DRIVE. The navigation system then automatically resubmits the rewritten question to the data retrieval system . The data retrieval system may use the IML to then conduct a new natural language query for content in the enterprise database and possibly for other content located on the Internet . The new identified content associated with sedans having 4 wheel drive may then be further classified by an associated sedan classifier before being displayed as answers on UI . Optionally the UI may display the automatically rewritten question .

The navigation system can take advantage of classifications in one data source to help classify content in other data sources. For example an enterprise may have overlapping structured and unstructured content. For instance a book database may contain a structured price list and may also include reviews for some of the books identified in the price list. The navigation system can not only classify both the structured and unstructured content from different databases but can use the structured book list database to further classify the unstructured content.

The navigation system may use a first structured classifier to identify books in the structured database within specific price ranges. The structured classifier does this by identifying book prices in a preconfigured price field. The classifier can then use other classifications in the structured database such as the book title field to identify books referred to in the non structured content that are within the same price range.

For example the classifier can identify the titles in the structured database for all books within a particular price range. The identified book titles are then used by an unstructured classifier to identify similar book titles in the unstructured content. These book titles are then classified as being within the same price range as the books identified in the structured content even though the unstructured content may not identify or include a book price.

To explain further shows an information manager that manages content such as information related to different software releases. Different software products and related documents may be classified into different release versions 1.0 2.0 2.5 3.0 etc. The content in information manager is considered at least partially structured since the data is arranged into preconfigured version categories.

Also shown in is unstructured content that may contain different web documents that are also related to the same software product information contained in the information manager . This information is considered unstructured since it is not preconfigured into a predefined format or category groupings.

A structured classifier generates a taxonomy corresponding with the categories defined in structured content . For example the taxonomy may contain facets that correspond to the different product release categories contained in structured content . The structured classifier may then identify the data items in structured content that are associated with each release facet A D. For example the classifier may identify a document contained in category release 2.0 of content . The document may describe a product referring to turbo java . Accordingly the structured classifier classifies the document under the release 2.0 facet B.

Other classifiers such as unstructured classifier may then be associated with the facets generated by structured classifier . The unstructured classifier is created by the structured classifier to search the unstructured content for any information associated with the facets generated from the structured content . For example classifier may search unstructured content for any data items associated with the release 2.0 facet B. The unstructured classifier may also use the IML to identify any unstructured content associated with concepts identified by the facets .

The classifier can also be used to classify other content related to the facets . For example a document in unstructured content referring to turbo java may be classified under release 2.0 facet B due to the previous classification of the turbo java document under the release 2.0 facet B by structured classifier . It should also be understood that the taxonomy classification could also be generated from unstructured content and then used to classify content in other unstructured or structured content.

Different custom classifier interfaces and convert the formats used in different content and respectively into a common format that can then be used by the same classifier . The classifier can then classify both the content and content with associated facets in taxonomy . This prevents having to write different classifiers for each different content format. Configurable classifiers are not restricted to structured data and may also be applied to unstructured data of any form.

Referring to the navigation system may automatically and dynamically generate taxonomies according to both returned results and a predetermined ontology. For example a preconfigured ontology may be associated with financial services. As described above the ontology could be manually generated according to empirical data such as analysis of email questions received by a financial institution. In this example the ontology identifies different concepts associated with banking products. For example these include different types of checking and savings accounts branch locations and actions such as opening or closing an account.

A user may enter the question CHECKING ACCOUNTS via the UI . The data retrieval system then retrieves content from different databases using the IML . The content may include different data items that have some association with checking accounts. Some of the data items may refer to a similar subject but use different terminology. For example data item A refers to opening a checking account and data item F refers to creating a new checking account.

Simply using a taxonomy generator to identify common terms in the data items and then creating an associated taxonomy may not yield the most effective content classification. For example the taxonomy generator could create two separate facets one for opening checking accounts and another for creating new checking accounts. This could be confusing when viewed by the user.

Alternatively the classifier may not create a facet associated with new checking accounts because many of the data items use slightly different terminology when referring to the same general subject matter. Accordingly the classifier would not associate the content in any of the data items together and determine that there are not enough data items associated with any one of these terms to create a facet category.

To resolve this issue the taxonomy builder also refers to the ontology when creating taxonomy . The taxonomy builder analyzes the text of the results as well as the concepts and other linguistic aspects in ontology . The concepts in ontology may have different levels. For example there may be customer concepts industry concepts and language concepts. Certain concepts such as customer concepts may be more important than industry concepts or language concepts. The taxonomy builder compares the ontology with the results and builds a taxonomy according to the comparison. For example the taxonomy builder may use known clustering algorithms that assign scores to the different concepts and words in ontology corresponding with results . The taxonomy is then generated based on this scoring.

It should be understood that taxonomy is dynamically generated at run time based on the search results from a query. Other static taxonomies may also be used in the navigation system and created offline prior to operation.

To explain further both the opening of a checking account referred to in data item A and creating a new checking account referred to in data item F may each be associated with a CHECKING ACCOUNT category A in ontology . If enough similar data items are associated with one of the same ontology category A the classifier may create a corresponding new account facet A in taxonomy .

Similarly the taxonomy builder may also generate a closing account facet B when enough data items are associated with closing or shutting down a checking account and generate an interest rate facet C when enough data items are associated with checking account interest rates. Note that content has little or no data items associated with branch location category B in ontology . Accordingly the taxonomy builder does not create a corresponding facet in taxonomy . Thus the ontology and results actually play off each other to create a better taxonomy classification.

Rules can determine which facets are selected for classifying content. Users are not required to select facets in a taxonomy to allow particular facets to take effect. Rules allow the taxonomy to operate simply by the user asking a question. Rules can also be used to automatically select facets in the taxonomy according to different questions even if the question does not exactly match an existing facet.

The rules include conditions that can refer to particular concepts in a question or particular types of users asking the question. Actions contained in the rules can then initiate a search for a particular concept or show a particular answer. The actions contained in the rules can also be used to manipulate facet restrictions.

A rule includes a condition A and an associated action B. In this example the question triggers the condition A in rule . For example the condition A is premised on the concept existing in the question . Note that a concept does not require the exact word Outback be used in the question and only requires a word or phrase that is associated with the concept as identified by an IML .

If the concept exists in the question the action B is triggered. In this example the action B automatically restricts the search of content to data items classified in a model.sedan.outback facet . Accordingly only the answers associated with the facet are displayed.

The navigation system will then find the price facets that cover the price range identified in question . For example price facets A and B cover the entire specified price range of 12K 20K. Accordingly the price facets A and B are automatically selected in response to question and the answers classified from content will only include vehicles having a price range of between 10K 20K.

Accordingly a user may enter a question and associated answers are displayed on the user interface . The user may then make a selection for facet . The navigation system displays content B classified with Accord facet and also displays the content in action B. In this case the content in action B is an advertisement associated with facet .

For example the DRAGON question is processed by the data retrieval system described above. Some of the content from the data search is displayed as answers A and B. The answer A includes some of the same content that may be contained in the answers described above. However the answer now also includes facets and that have been classified with the content.

For example a classifier may have classified the content A and B with a 0 5 price range facet C. Accordingly the facet C is displayed along with content A and B. Similarly the same or another classifier may have also classified the content A and B with a 1980 1989 publication date facet D. Accordingly the facet D is displayed along with the content A and B and facet C. Selecting the facet C or D in answer A operates in the same manner as the facets described above. Thus selecting the year 1980 89 facet D would display answers for books published between the years 1980 89. Other answers such as answer B may display other facets that are associated with the corresponding content.

One of the advantages of this format is that the user is immediately notified that the book identified in answer A is within a price range of 0 5 dollars and published between the years of 1980 1989. This is displayed in answer A without ever clicking on a price range facet or clicking on a particular publication year facet.

In another variation different taxonomy categories may be displayed on the user interface . The user can then select which taxonomies and search content is displayed as answers . An analog facet display can also be used to select different sets of facets that correspond with the selected position on display .

The rules above are described below in more detail. Many of the descriptions below refer to the following taxonomies.

A facet can be automatically selected in a rule using an Add Facet Restriction item in an Advanced menu. This will create an action tab with two mechanisms for selecting facets. First there is a text field in which the full name of the facet can be typed in quotes e.g. Genre.Fiction . The appropriate facet within the tree shown below the text field can also be selected. Note that this tree may not be complete until the data is classified.

Multiple facets can be selected using rules. As with selecting one facet multiple facets can be selected within an Add Facet Restriction action in either the text field or the tree. Within the text box an IML expression can be written where the primary difference is that quotes text is interpreted as facet references rather than tokens.

Two facets a and b can be selected with the expression a OR b . If only results that were classified by both facets is desired the following expression can be used a OVERLAP b . Note that a IS b will also work but only for exact matches. For example all documents will be correctly returned that were classified as a and b. However no match will occur for a document classified as a with a section classified as b. The OVERLAP operator will cause the section to be matched.

Selecting facets in the tree will produce an expression which is the intersection of the taxonomies and a union of the facets within the taxonomies. For instance selecting Mystery Fantasy and 20 29.99 in the genre taxonomy will produce the expression Genre.Fiction.Mystery OR Genre.Fiction.Speculative.Fantasy OVERLAP Price. 20 29.99 .

Facets may be selected in different rules. The navigation system attempts to combine them in a reasonable way in the same order that the rules were analyzed. As long as the facet expressions are in the form of an intersection of unions and the unions are isolated to one taxonomy each then facet expressions are combined to maintain that form. If a different type of expression is found from that point on expressions are combined using OVERLAP.

For example consider the case where three rules fire with the following expression. a.b OVERLAP x.y OR x.z a.c OVERLAP 1.2 a.b OR x.z 

The first two expressions conform to the standard expression style so they combine into a.b OR a.c OVERLAP x.y OR x.z OVERLAP 1.2 . However the third expression does not conform it contains a union from two different taxonomies and thus is merely appended with the OVERLAP operator a.b OR a.c OVERLAP x.y OR x.z OVERLAP 1.2 OVERLAP a.b OR x.z . Note that facets selected in a search rule only affect that search. Facets selected in other rules are combined and affect all subsequent searches.

A facet can be restricted for a particular search. Adding such a restriction within a search rule may apply just to that search and may by default be combined with the previous restrictions. An option can also be selected to not combine with previous restrictions. This is particularly useful for doing collection based facets which are not to be applied to structured searches.

A previous facet restriction can be over ridden. A search rule may include the Facet Restriction action and also a checkbox which when checked causes the current restriction to replace previous restrictions.

Facet references can contain configurable wildcards if the full path of the facet is unknown. For example it may not be exactly known where Fantasy is located in the genre taxonomy. Fantasy can be referred to using Genre. .Fantasy. This returns the first facet in the genre taxonomy that has the name Fantasy using a standard breadth first search. In other words the first shallowest possible match is identified. If there is no match the facet will be removed from the expression.

The id for a facet may not be known. This is sometimes the case with numeric or range based facets where the facet reference cannot exactly be expressed. Consider the taxonomy of prices. A rule can match prices and create a facet restriction such as Price. .price. Unfortunately individual prices may not exist in the taxonomy preventing a match. To find the most specific facet whose range contains the price the following restriction can be used Price. .price. Note that this extension requires min max values and a comparator to be specified for the facet. Some classifiers may do this automatically.

An approximate match may be generated for a facet. Sometimes a user may ask something like Show me books around 15 . If the facet reference Price. .price is used the facet 15 19.99 may be returned back which is probably not the desired result. A similar case may exist when a user asks What books were published in 1998 . The preferred response may not be 1998 but 1990 1999. This can be accomplished with the wildcard.

For these two examples that would be Price. . 15 and Year. .1998. To be precise this expression looks for a containing facet first. If the requested value is completely contained in the facet then that facet is matched e.g. both Price. . 12 and Price. . 12 will match 10 14.99 . Otherwise the parent is matched. So Price. . 15 will match 10 19.99. Note that this extension has min max values and a comparator to be specified for the facet. Some classifiers may do this automatically.

A range of facets can be selected. For example a user may ask What books cost between 0 and 22 . This range can be requested in a facet restriction expression by using an IML operator which is overloaded for this purpose. The following expression would be used Price. . 0 Price. . 22 . This will cause the facets 0 9.99 10 19.99 and 20 14.99 to be selected. Note that this extension has min max values and a comparator to be specified for the facet. Some classifiers may also do this automatically.

The user may also request a value that doesn t exist. In many cases the best thing to do is nothing and the facet restriction will be ignored. But sometimes especially when the user has asked for a range some action is required. For example the user may have asked for books starting at 10 dollars. Alternatively the user may be asking for books published starting at 1945 when there is only data starting at 1960.

The user can be restricted from seeing particular facets. A facet restriction can be set using ISNT. For example the user should not see any non fiction books the following expression can be used Genre ISNT Genre.Non Fiction 

A user can be restricted to see only particular facets. For example to restrict a user to only fiction books rather than using Genre.Fiction the following operator can be used RESTRICTED Genre.Fiction .

A facet may be selected in the rules and the user may then navigate to a more general facet the navigation system may still search for the original facet. To solve this problem the navigation system can fix the question by replacing the old facet referring text with the new. The user still sees the old question but as far as the system is concerned the question has been changed. A variable may be set on the facet restriction that corresponds to the part of the question that needs to be replaced.

For example there may be a rule with the following language condition science fiction scifi. The facet restriction would then be Genre. .Science Fiction scifi. Now the navigation system can tell what part of the question was about science fiction and replace it with the appropriate information.

The system described above can use dedicated processor systems micro controllers programmable logic devices or microprocessors that perform some or all of the operations. Some of the operations described above may be implemented in software and other operations may be implemented in hardware.

For the sake of convenience the operations are described as various interconnected functional blocks or distinct software modules. This is not necessary however and there may be cases where these functional blocks or modules are equivalently aggregated into a single logic device program or operation with unclear boundaries. In any event the functional blocks and software modules or features of the flexible interface can be implemented by themselves or in combination with other operations in either hardware or software.

Having described and illustrated the principles of the invention in a preferred embodiment thereof it should be apparent that the invention may be modified in arrangement and detail without departing from such principles. I claim all modifications and variation coming within the spirit and scope of the following claims.

