---

title: Reflectivity maps
abstract: Systems and methods for embedding three-dimensional targets in realistic sonar images are provided. An actual or synthetic sonar image is first created and a reflectivity map is produced therefrom. A direct path bottom reverberation is calculated to which texture is added by multiplying the signal from a given point on the bottom at coordinates (x,y) by the reflectivity map R(x,y) at that point and in which targets are embedded. Echoes from targets and other noise sources are superimposed on the direct path bottom reverberation to generate raw unbeamformed stave data. The stave data is beamformed to produce the desired complex image with the desired targets naturally embedded therein.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08743654&OS=08743654&RS=08743654
owner: The United States of America as represented by the Secretary of the Navy
number: 08743654
owner_city: Washington
owner_country: US
publication_date: 20110124
---
The invention described herein may be manufactured and used by or for the Government of the United States of America for governmental purposes without the payment of any royalties thereon or therefore.

The present invention relates to simulating the texture of a sonar image. More particularly the present invention relates to creating realistic sonar images in which three dimensional targets can be embedded.

In current warfare scenarios operations in shallow water environments are becoming increasingly critical. Accordingly the use of and interpretation of sonar images for detecting objects or targets on the ocean bottom have become increasingly important.

A sonar image typically is comprised of a matrix of points or picture elements pixels displayed on either a cathode ray tube or paper. The points or pixels have a grayness level ranging from 0 to 255 on a grayness scale. Objects normally appear on sonar images as a highlight shadow combination particularly when the sonar images are generated by a moving vehicle. A sonar scan for short distances typically comprises a massive amount of data which must be reviewed in short time periods.

While computer interpretations of sonar images have been developed the majority of interpretations are accomplished by human analysts looking at the sonar scans. As an analyst reviews the scans the analyst marks areas where specific objects or features are inferred to be present on the ocean bottom. Because of the massive amounts of data that must be reviewed in short time periods proper training of human analysts is necessary to avoid frequent errors or omissions in both detection and classification.

One aspect of this training is target recognition. Generally the training consists of presenting to an analyst sonar images in which targets have been embedded. The analyst gradually learns to discern the targets from the background. In order for the training to be effective the sonar images presented to an analyst ideally would represent real world scenarios.

The current method of embedding targets in realistic sonar images involves cutting and pasting snippets of targets into an actual image. However this method creates artifacts and does not preserve the phase of the image. Accordingly the images that analysts currently are trained on do not represent real world scenarios and the accuracy with which an analyst can identify real world targets may suffer. What are needed are systems and methods of embedding three dimensional targets in realistic sonar images.

It is therefore a general purpose and primary object of the present invention to provide systems and methods for creating realistic sonar images in which three dimensional targets can be embedded. A sonar image is first created and a reflectivity map is produced therefrom. The sonar image can be an actual sonar image created with a time varying gain to produce an image which has approximately uniform intensity.

Alternately a sonar image is created at block using a synthetic two dimensional array of pixels with the desired background. A direct path bottom reverberation is calculated to which texture is added by multiplying the signal from a given point on the bottom at coordinates x y by the reflectivity map R x y at that point.

In calculating the direct path bottom reverberation the bottom is divided into facets and targets are embedded therein as collections of facets and edges. Pressure amplitudes are assigned to each facet and the amplitudes are scaled to account for target hiding. The root mean square of the amplitudes are determined and the contributions of the facets are integrated over the bottom.

Echoes from the targets and other noise sources are superimposed on the direct path bottom reverberation to generate the raw unbeamformed stave data. The stave data is beamformed to produce the desired complex image with the desired targets naturally embedded therein.

To assist in performing the computationally intensive calculations described above known sonar simulation tools can be employed including the Personal Computer Shallow Water Acoustic Tool set PC SWAT . The aforementioned sonar image environmental and target data can be imported into PC SWAT in a compatible format data file.

The BOTTOM REFLECTIVITY MAP option is selected from the PC SWAT menu and PC SWAT can create the reflectivity map described previously. To obtain the raw stave data an IMAGING command is run in PC SWAT which performs the calculations and computations described with respect to calculating the direct path bottom reverberation and superimposing the echoes. PC SWAT can then beam form this raw data to create the synthetic sonar image with the embedded targets.

In one embodiment a method of embedding one or more targets in a sonar image includes creating the sonar image and producing a reflectivity map from the sonar image. Using the sonar image and the reflectivity map direct path bottom reverberation is calculated. Raw stave data is generated by superimposing echoes from the targets on the direct path bottom reverberation and the raw stave data is beamformed to obtain a sonar image having the targets embedded therein.

The sonar image can be created using an actual sonar image with a time varying gain. The sonar image can be a simulated sonar image using a synthetic two dimensional array and a computer generated background. A three dimensional bottom terrain can be specified as a random superposition of sinusoids. Alternately or in combination an ocean bottom topography map can be incorporated into the simulated sonar image and a background can be simulated using correlated k distributions.

Calculating the direct path bottom reverberation can include multiplying a signal from a given point on the bottom of the sonar image by the reflectivity map at that given point. The step of calculating can also include dividing the bottom into a plurality of facets having dimensions smaller than a resolution of the sonar image and specifying a collection of facets that describe the targets.

Calculating direct path bottom reverberation can further include assigning a pressure amplitude to each of the facets scaling the pressure amplitude to account for target occlusion obtaining a root mean square pressure amplitude scattered from each of the facets based on the scaled pressure amplitude and integrating the root mean square pressure amplitude over the bottom of the sonar image.

In one embodiment a method of embedding one or more targets in a sonar image includes creating a data file of the sonar image and incorporating data for the targets into the data file. Environmental data can also be incorporated into the data file.

The data file is imported into a sonar simulation which is initiated to produce a reflectivity map from the data file. The sonar simulation is activated to image the data file and the reflectivity map to generate raw stave data. The sonar simulation beamforms the raw stave data to obtain a sonar image having the targets embedded therein.

As previously described the sonar image can be created using an actual sonar image with a time varying gain. The sonar image can be a simulated sonar image using a synthetic two dimensional array and a computer generated background. A three dimensional bottom terrain can be specified as a random superposition of sinusoids. Alternately or in combination an ocean bottom topography map can be incorporated into the simulated sonar image and a background can be simulated using correlated k distributions.

In initiating the sonar simulation various lookup tables can be initialized. The lookup tables can include scattering strength tables for surface and bottom reverberation and amplitude and phase tables of the transmitted signal as a function of range and depression angle.

Referring now to there is shown a block diagram of method for creating realistic sonar images in which three dimensional targets can be embedded. At block a sonar image is created. In a manner known to those of skill in the art an actual sonar image is created with a time varying gain to produce an image which has approximately uniform intensity.

Alternately a sonar image is created at block using a synthetic two dimensional array of pixels with the desired background. A sonar image for a side scan sonar is a two dimensional array of pixels whose amplitude is proportional to the beam formed pressure at the location x y . The image is normalized such that the average pixel value is one.

Assuming the sonar pulse is traveling along the y axis the image is normalized such that the average over y for each value of range x is equal to unity. This corresponds to time varying which normalizes the average background to unity.

At block a reflectivity map is produced as a function of the horizontal location of an image pixel in the sonar image. In a manner known to those of skill in the art the reflectivity map is produced by identifying each point at coordinate I j in the normalized two dimensional array with a location x y in the x y horizontal plane.

At block direct path bottom reverberation is calculated. Referring also to there is shown a block diagram of a method for calculating direct path bottom reverberation. The bottom is first divided into a collection of rectangular facets block whose dimensions are typically smaller than the resolution of the sonar. Targets are embedded into the image block by specifying a collection of facets and edges that describe the targets.

A pressure amplitude P is assigned to each facet on the bottom block . The pressure amplitude has the following form 

By multiplying the signal from a given point on the bottom at coordinates x y by the reflectivity map R x y at that point as shown in Equation 1 texture is added to the direct path bottom reverberation. At block the pressure amplitude of a given facet is multiplied by a scale factor between zero and one depending on whether the facet is hidden or occluded by a target.

As known to those of skill in the art a system of linear and quadratic equations can be solved to obtain the intersection point of a given eigenray with a target and thus determine whether or not there is occlusion of a given facet by a target. If one ignores diffraction from the target the pressure amplitude from a facet shadowed by a target is set equal to zero.

To include diffractive effects the following empirical equation based on shadowing by a sphere can be used to determine the scale factor 

s is the horizontal distance from the point on the bottom and the intersection point on the target and

a is a characteristic scale parameter of the target such as the diameter of a cylinder. In the high frequency limit the scale factor approaches zero and the shadow is infinitely deep except for corrections due to multipaths noise and the integrated side lobes of the beam former.

At block the Root Mean Square RMS pressure amplitude scattered from each facet is obtained. The RMS pressure amplitude has the following form Area 3 where 

Pis the incident pressure at the facet. The directionality of the scattered field is given by the scattering strength. At block the RMS pressure amplitude contributions from each facet for each ping are summed by performing a surface integral over the bottom to obtain the direct path bottom reverberation. Using a stochastic integral a random function of the coordinates of a point on the bottom surface is summed over the area insonified by the sonar.

Referring back to Equation 1 A and eare chosen such that the RMS source level of the facet is given by Equation 3 and the reverberation obeys the correct statistics. These random numbers are a function of position and have the same value for a given facet from ping to ping. This coherence of the bottom return is important when beamforming the synthetic data for a synthetic aperture sonar.

Referring back to the echoes from the targets and other noise sources are superimposed on the direct path bottom reverberation to generate the raw unbeamformed stave data block . The stave data is beamformed to produce the desired complex image with the desired targets naturally embedded with the image block .

Referring now to there is depicted an image of an actual high frequency synthetic aperture sonar as would be created at block . The image of is used to produce a reflectivity map as at block . This reflectivity map is used as a texture on the unbeamformed direct path bottom reflection as calculated at block .

As is known to those of skill in the art the calculations described with reference to are computationally intensive. Numerous tools have been developed to assist in performing such calculations. One such tool is a user friendly sonar simulation known to those of skill in the art as the Personal Computer Shallow Water Acoustic Tool set PC SWAT .

PC SWAT is an object oriented program written in the computer language C . The kernel of PC SWAT consists of approximately 100 files with another 500 files for the graphical user interface and another 10 000 for plotting the different outputs generated from PC SWAT. PC SWAT also comes in a DLL Dynamic Link Library version which allows users to write their own programs and call upon different functions within PC SWAT to perform some calculation such as creating a synthetic image block of or beam forming some sonar data block of .

Among the functions available in PC SWAT are those providing calculations of signal to noise ratio SNR and shadow contrast for a wide class of either a detection or imaging sonar. Additionally PC SWAT contains probability of detection and classification models which convert the SNR and shadow contrast of a sonar in a given environment into a probability of detection and classification. This allows the user to ascertain the anticipated performance of the system. This feature also allows the user to perform trade off studies in the design of a sonar in order to maximize its effectiveness. Further PC SWAT computes acoustic propagation in a time varying three dimensional environment using a version of a Gaussian ray bundle.

The properties of the water column such as sound speed temperature and bubble density can be specified in a 3 dimensional grid as well as other variables e.g. wind speed and bottom type can be specified in a two dimensional grid. A time varying model of bubble density due to breaking waves in the surf zone has also been developed for PC SWAT.

PC SWAT also contains a list of three dimensional targets. The target shape is specified by a collection of facets and edges. The scattering from the target is modeled by a combination of the Kirchhoff approximation for scattering by the facets geometric theory of diffraction for scattering by a finite edge and scattering by simple point sources.

PC SWAT uses monostatic and bistatic bottom scattering models to describe bottom reverberation. A variation of a bistatic surface scattering model is used to model scattering from the sea surface.

A number of models of sediment penetration used in the computation of the signal from a buried target are included in PC SWAT. PC SWAT contains a model for the case of a flat interface which includes the evanescent wave in the case of subcritical penetration. Also PC SWAT uses one or both of an up to sixth order perturbation theory or second order small slope approximation to describe sediment penetration in the case of a sinusoidal interface e.g. sand ripples. Further PC SWAT uses second order perturbation theory to describe sediment penetration in the case where the interface is composed of the superposition of a primary and secondary sinusoid.

The PC SWAT user can specify a three dimensional bottom terrain as a random superposition of sinusoids. Also included are both shadowing by the terrain and the occlusion of a proud or unburied target by the terrain. The user can further specify the sea surface as a random superposition of time varying sinusoids representing an evolving sea surface. PC SWAT also computes the SNR for an acoustic modem in a three dimensional environment and converts the SNR into a bit error rate using a known formula described in digital communications text.

PC SWAT allows the user to import an arbitrary waveform for the transmitted signal and to create synthetic data from a sonar for proud partially buried and buried targets. PC SWAT can then beam form this raw data to create a synthetic sonar image and further allow a user to create a bistatic sonar image where the source and receiver are located on separate vehicles.

To incorporate the use of PC SWAT into method the sonar image environmental and target data is imported into PC SWAT in a data file in a format compatible with PC SWAT shown in phantom at block of . The BOTTOM REFLECTIVITY MAP option is selected from the PC SWAT menu and PC SWAT creates a reflectivity map in the manner described with respect to block .

To obtain the raw stave data at block an IMAGING command is run in PC SWAT which performs the calculations and computations described with respect to blocks and . As previously mentioned PC SWAT can then beam form this raw data to create a synthetic sonar image as at block . In performing blocks and PC SWAT initializes various lookup tables such as tables of scattering strength for the surface and bottom reverberation and the amplitude and phase of the transmitted signal as a function of range and depression angle.

As is known to those of skill in the art PC SWAT creates the received time series for surface bottom volume reverberation and target scattering for each frequency sub band and element in the projector and the receiver. PC SWAT performs a loop over all the pings in the sonar image. Within this loop PC SWAT performs a loop over each element in the receiver.

Within this loop is a loop over all the elements in the projector transmitter . Within this loop is a loop over all of the frequency sub bands for the transmitted signal. Within this loop PC SWAT computes the time series received at the given receive element from ambient noise and the scattering by the sea surface bottom surface volume inhomogeneities and targets within the scene.

These time series for each frequency sub band are summed coherently to give the total signal in a given sub band. This time series is convolved with the corresponding sub band of the transmitted signal and the result is added to the total time series. Upon completion of the sum over frequency sub bands the time series is written to an ASCII file as the total time series at a given receiver element during a given ping. This process is repeated for all the receiver elements and each ping in the raw sonar image.

What have thus been described are systems and methods for creating realistic sonar images in which three dimensional targets can be embedded. An actual or synthetic sonar image is first created and a reflectivity map is produced therefrom. A direct path bottom reverberation is calculated to which texture is added by multiplying the signal from a given point on the bottom at coordinates x y by the reflectivity map R x y at that point.

In calculating the direct path bottom reverberation the bottom is divided into facets and targets are embedded therein as collections of facets and edges. Echoes from the targets and other noise sources are superimposed on the direct path bottom reverberation to generate the raw unbeamformed stave data. The stave data is beamformed to produce the desired complex image with the desired targets naturally embedded therein.

Obviously many modifications and variations of the present invention may become apparent in light of the above teachings. For example the sonar image can be created using ocean bottom topography maps. Also realistic backgrounds can be simulated using correlated k distributions. Further bottom height can be specified as a sum of randomly chosen sinusoids.

It will be understood that many additional changes in details steps and arrangements thereof which have been described herein and illustrated in order to explain the nature of the invention may be made by those skilled in the art within the principle and scope of the invention as expressed in the appended claims.

