---

title: Recording and reproduction apparatus and recording and reproduction method
abstract: In the case where plural applications are executed at the same time, if each application instructs for different trick play to the same content, a difference is caused between an ideal reproduction state expected by each application and an actual reproduction state. The present invention makes it possible to keep the reproduction state unchanged as long as normal reproduction or trick play is not accepted, by including a moving picture trick play reproduction management unit which determines, in response to an instruction for one of normal reproduction and trick play, whether or not to accept, according to a rule, the instruction, and retains details specified by the instruction in the case of accepting the instruction, and a moving picture reproduction processing unit which reproduces a moving picture based on the details retained by the moving picture trick play management unit.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08571385&OS=08571385&RS=08571385
owner: Panasonic Corporation
number: 08571385
owner_city: Osaka
owner_country: JP
publication_date: 20110119
---
This is a continuation application of pending U.S. patent application Ser. No. 11 420 982 filed May 30 2006 which claims the benefit of U.S. Provisional Application No. 60 685 377 filed May 31 2005 and No. 60 752 887 filed Dec. 23 2005 the contents of which are herein incorporated by reference in their entirety.

The present invention relates to a recording and reproduction apparatus which accumulates contents and reproduces the accumulated contents. In particular the present invention relates to an exclusive trick play control system for use with the recording and reproduction apparatus for trick play processing.

Various contents are included in a broadcast wave sent from a broadcasting station. Aside from video and audio used in a normal television program there are cases where data is included in the contents. There are several methods for sending the data which can be roughly divided into a method of sending the data chronologically and a method of repeatedly sending the data per set interval. In the former method of sending the data chronologically for example data that continues of the course of time is sent in sequential order. This method is suitable for sending large amounts of data over a long period of time but there is a drawback in that data which could not be received due to timing of the send cannot be received again. On the other hand in the latter method of repeatedly sending the data at a set interval the same data is repeatedly sent any number of times during a fixed period. This method has an advantage in that during the period when the same data is being sent it is acceptable to receive any one of the repeatedly sent pieces of data and thus the timing of receiving is not limited.

For instance data broadcast represented by BML and file sending through DSMCC data carousel are examples of this method. It is unknown particularly in broadcast when a recipient will select a channel and commence reception. In the method of sending the data chronologically when the reception is commenced after the timing of the send and acquisition of the data fails the data cannot be re acquired. Therefore when sending data such as an application program along with video and audio in the broadcast wave the method of repeatedly sending the data per set interval is favorable.

At present specifications for receiving a broadcast wave that includes video audio and an application program and executing the application program in synchronization with video and audio as in the above method have been developed and are in operation. It is possible to receive the sent application program load the application program in a terminal and implement various additional functions by executing the loaded application program rather than simply viewing the ordinary video and audio. This method for sending the application program and loading the application program in the terminal is also called downloading . For example a specification called Digital Video Broadcasting Multimedia Home Platform DVB MHP ETSI ES 201 812 V1.1.1 2003 12 has been developed in Europe and operations according to this specification have already commenced.

In addition OCAP 1.0 Open Cable Application Platform OC SP OCAP1.0 I14 050119 specification which provides the same specification in the cable broadcast environment in the United States is being developed in the United States and actually operations are set to commence in 2005. In these specifications the application is written in the Java language. In the terminal various types of Application Programming Interface API for tuning and graphics displaying are prepared so that the Java application can control those functions by calling the API.

In addition in North America the OCAP DVR specification OC SP OCAP DVR I01 040524 which is aimed at adding a function for recording and reproducing the contents in the OCAP specification is being developed. This is for recording the content to be broadcast such as video audio and an application and further reproducing the recorded content as well as the content to be broadcast.

Moreover with OCAP DVR trick play of contents is realized by recording broadcast contents to a high speed random accessible storage medium such as a hard disk a semiconductor memory and the like. Here the trick play refers to functions for reproducing the contents at an arbitrary speed from an arbitrary position and so on such as fast forward rewind slow motion pause and skip. With OCAP DVR the application taken into the terminal from the broadcast wave can control the recording and trick play of contents by defining the API on the terminal for the recording and trick play. In particular a Java Media Framework JMF is adopted for the trick play. The JMF is an API which is designed in Java language and used for controlling the reproduction of video and audio. The application can perform trick play by sending various instructions to a class called Player. Also a technique for realizing the trick play is described in the Patent Reference EP 0 692 123 . Specifically it is a method of easily manufacturing a reproduction apparatus mainly software which reproduces video and audio contents . The method can easily realize a consistency between an original time axis of the content and a time axis actually used by the reproduction apparatus by physically and conceptually integrating the concepts of time.

In the case where plural applications are executed at the same time if each of the applications instructs on the same content to perform different trick play a difference is caused between an ideal reproduction state intended by each application and an actual reproduction state.

This problem is obvious in the case where there are an application which is linked with a certain program and an application which is not linked with the program. For example the application linked with the program knows optimum instruction timing of trick play of the program. While the application instructs to perform trick play at the optimum instruction timing if the application which is not linked with the program sends a different instruction for trick play an optimum trick play result cannot be obtained. In the case where the plural applications separately instructs on the same video and audio to perform trick play using the known technique represented by the JMF a reproduction state unexpected by the application is created since each of the applications cannot prevent trick play instructions sent from other applications. As the result unexpected operations and malfunctions of the applications are caused so that the optimum trick play result cannot be obtained.

In order to realize the aforementioned object a recording and reproduction apparatus of the present invention is a recording and reproduction apparatus which receives and records a content included in a broadcast wave and executes an application program included in a predetermined service in parallel with reproduction of the recorded content. The recording and reproduction apparatus includes a storage unit in which the received content and the application program are stored an execution unit which executes the application program a reproduction unit which reproduces the content stored in the storage unit and a reproduction speed control unit which receives a reproduction speed of the content requested by the application program and controls a reproduction speed of the content to be reproduced by the reproduction unit so as to be in the received reproduction speed wherein in the case where there are a first application program which has requested the reproduction speed of the content already accepted as a normal reproduction and a second application program which requests a new reproduction speed when receiving the new reproduction speed request the reproduction speed control unit accepts the new reproduction speed request from the second application program.

Accordingly a reproduction status cannot be changed as long as not receiving a trick reproduction. Therefore an unexpected operation or malfunction of the application program can be prevented and an optimum trick play result can be obtained. Consequently it can be prevented the viewers from being confused.

Furthermore in order to realize the aforementioned object a recording and reproduction apparatus of the present invention is a recording and reproduction apparatus which receives and records a content included in a broadcast wave and executes an application program included in a predetermined service in parallel with reproduction of the recorded content. The recording and reproduction apparatus includes a storage unit in which the received content and the application program are stored an execution unit which executes the application program a reproduction unit which reproduces the content stored in the storage unit and a reproduction speed control unit which receives a reproduction speed of the content requested by the application program and controls a reproduction speed of the content to be reproduced by the reproduction unit so as to be in the received reproduction speed wherein in the case where a first application program which has requested the reproduction speed of the content already accepted as a normal reproduction and a second application program which requests a new reproduction speed are different when receiving the new reproduction speed request the reproduction speed control compares a priority level of the first application program with a priority level of the second application program and controls the reproduction speed of the content so as to be in a reproduction speed requested by the application with a higher priority level.

Accordingly it can be prevented the application program with a low priority level from changing the reproduction status while an application program is changing the reproduction speed. Therefore an unexpected operation or malfunction of the application program can be prevented and an optimum trick play result can be obtained. Consequently it can be prevented the viewers from being confused.

Furthermore the reproduction speed control unit may determine whether or not the first application program and the second application program belong to different services by comparing information relating to an identifier of a service to which the first application program belongs with information relating to an identifier of a service to which the second application program belongs and refuse a reproduction speed change request from the second application program in the case where the second application program does not belong to the service of the first application program.

Accordingly while an application program is changing the reproduction speed only an application program which belongs to the same service as that application program can change the reproduction status.

Furthermore the reproduction speed control unit may determine whether or not the first application program and the second application program belong to different services by comparing information relating to an identifier of a service to which the first application program belongs with information relating to an identifier of a service to which the second application program belongs and in the case where the second application program belongs to the service of the first application program when the priority level of the second application program is higher than the priority level of the first application program control the reproduction speed of the content so as to be in the reproduction speed requested by the second application program.

Accordingly it can be prevented the application program with a low priority level from changing the reproduction status while an application program is changing the reproduction speed.

Furthermore in the case where the priority level of the first application program is same as the priority level of the second application program the reproduction speed control unit may control the reproduction speed of the content so as to be in the reproduction speed requested by the second application program.

Accordingly it can be prevented the viewers from being confused even in the case where two applications programs have the same priority level.

Furthermore the reproduction speed of the content which has been already accepted having been requested by the first application program may be a reproduction speed which is different from the reproduction speed for a normal reproduction.

It should be noted that the present invention can be realized as the aforementioned recording and reproduction apparatus the recording and reproduction method a program or as a recording medium for storing such program.

The disclosures of U.S. Provisional Application No. 60 685 377 filed on May 31 2005 and No. 60 752 887 filed on Dec. 23 2005 each including specification drawings and claims are incorporated herein by reference in their entirety.

In order to overcome the conventional problems the present invention includes a moving picture trick play management unit which determines in response to an instruction for one of normal reproduction and trick play whether or not to accept according to a rule the instruction and in the case of accepting the instruction to retain details specified by the accepted instruction and a moving picture reproduction processing unit which reproduces a moving picture based on the details retained by the moving picture trick play management unit. Accordingly the reproduction status cannot be changed as far as not receiving one of normal reproduction and trick play.

Furthermore the moving picture trick play management unit further accepts an instruction for one of normal reproduction and trick play from a program and does not accept while retaining the details specified by the accepted instruction an instruction for one of normal reproduction and trick play from another program. Accordingly it can be prevented that the reproduction status is to be changed by another program while a program is changing the reproduction speed.

Furthermore the moving picture trick play management unit further accepts an instruction for one of normal reproduction and trick play from a program and does not accept while retaining the details specified by the accepted instruction an instruction for one of normal reproduction and trick play from another program which belongs to a different category than the program. Accordingly while the program is changing the reproduction speed only program which belongs to the same category as the program can change the reproduction status.

Furthermore the moving picture trick play management unit further accepts an instruction for one of normal reproduction and trick play from a program and does not accept while retaining the details specified by the accepted instruction an instruction for one of normal reproduction and trick play from another program which belongs to a different service than the program. Accordingly while the program is changing the reproduction speed only program which belongs to the same service as the program can change the reproduction status.

Furthermore the moving picture trick play management unit further accepts an instruction for one of normal reproduction and trick play from a program and does not accept while retaining the details specified by the accepted instruction an instruction for one of normal reproduction and trick play from another program which has a different identifier than the program. Accordingly while the program is changing the reproduction speed only program which has the same identifier as that of the program can change the reproduction status.

Furthermore the moving picture trick play management unit further accepts an instruction for one of normal reproduction and trick play from a program and does not accept while retaining the details specified by the accepted instruction an instruction for one of normal reproduction and trick play from another program which has a lower priority level than the program. Accordingly while the program is changing the reproduction speed it can be prevented that the program having a lower priority level changes the reproduction status.

Furthermore the moving picture trick play management unit further accepts an instruction for one of normal reproduction and trick play from a program and does not accept while retaining the details specified by the accepted instruction an instruction for one of normal reproduction and trick play from another program which belongs to a different service and has a lower priority level than the program. Accordingly while the program is changing the reproduction speed only program which belongs to the same service and has a higher priority level as the program can change the reproduction status.

Furthermore the moving picture trick play management unit further accepts only an instruction for one of normal reproduction and trick play from one or more predetermined programs. Accordingly while the program is changing the reproduction speed it can be prevented that a program that is different from a specific program changes the reproduction status.

Furthermore the moving picture trick play management unit further accepts only an instruction for one of normal reproduction and trick play from one or more predetermined programs included in a content to be broadcast. Accordingly while the program is changing the reproduction speed it can be prevented that a program included in a content which is different from a specific content to be broadcast changes the reproduction status.

Furthermore the moving picture trick play management unit further accepts only an instruction for one of normal reproduction and trick play from one or more predetermined programs included in a recorded content. Accordingly while the program is changing the reproduction speed it can be prevented that a program included in a content which is different from a specific content to be recorded changes the reproduction status.

Furthermore the moving picture trick play management unit further accepts only an instruction for one of normal reproduction and trick play from one or more predetermined programs included in an abstract service. Accordingly while the program is changing the reproduction speed it can be prevented that a program included in a content which is different from a specific abstract service changes the reproduction status.

Furthermore the moving picture trick play management unit further accepts only an instruction for one of normal reproduction and trick play from a program having an identifier within a certain range. Accordingly while the program is changing the reproduction speed only program having an identifier in certain range can change the reproduction status.

Furthermore the present invention further includes a reservation management unit which manages a right to send an instruction for one of normal reproduction and trick play to the moving picture trick play management unit wherein the moving picture trick play management unit accepts only an instruction for one of normal reproduction and trick play from a program having the right managed by the reservation management unit. Accordingly it can be prevented that a program which does not have the right changes the reproduction status.

Furthermore the moving picture trick play management unit further accepts an instruction for trick play from a program and does not accept while retaining details specified by the accepted instruction an instruction for one of normal reproduction and trick play from another program. Accordingly it can be prevented that while the program is performing trick play another program changes the reproduction status.

Furthermore the present invention further includes a recording reservation management unit which provides to a program which has instructed the moving picture reproduction processing unit to reproduce a moving picture a right to give an instruction for trick play and in the case where the program instructs the moving picture reproduction processing unit to stop the reproduction of the moving picture to deprive the right to give an instruction for trick play wherein the moving picture trick play management unit accepts only an instruction for one of normal reproduction and trick play from the program having the right managed by the reservation management unit. Accordingly it can be prevented that while the program which instructed content reproduction is performing trick play another program changes the reproduction status.

Furthermore the present invention further includes a recording reservation management unit which provides to a program which has instructed the moving picture reproduction processing unit to reproduce a moving picture a right to give an instruction for trick play and in the case where the program instructs the moving picture reproduction processing unit to stop the reproduction of the moving picture to deprive the right to give an instruction for trick play wherein the moving picture trick play management unit accepts only an instruction for one of normal reproduction and trick play from a program in a service included in the program having the right managed by the reservation management unit. Accordingly it can be prevented that while the program which instructed content reproduction is performing trick play another program changes the reproduction status.

Furthermore the present invention further includes a moving picture selection unit which accepts an instruction for selection of a moving picture to be reproduced to provide to a program which has identified the moving picture to be reproduced a right to give an instruction for trick play and in the case where the program instructs to cancel the selection of the moving picture to deprive the right to give an instruction for trick play wherein the moving picture trick play management unit accepts only an instruction for one of normal reproduction and trick play from the program having the right managed by the moving picture selection unit. Accordingly it can be prevented that while the program which instructed selection of content to be reproduced is performing trick play another program changes the reproduction status.

Furthermore the present invention further includes a moving picture selection unit which accepts an instruction for selection of a moving picture to be reproduced to provide to a program which has identified the moving picture to be reproduced a right to give an instruction for trick play and in the case where the program instructs to cancel the selection of the moving picture to deprive the right to give an instruction for trick play wherein the moving picture trick play management unit accepts only an instruction for one of normal reproduction and trick play from a program in a service included in the program having the right managed by the moving picture selection unit. Accordingly it can be prevented that while the program which instructed content reproduction is performing trick play another program changes the reproduction status.

It should be noted that the present invention can be realized as such moving picture reproduction apparatus but also as a program execution method having as steps characteristic units included in the moving picture reproduction apparatus or as a program for causing a computer to execute such steps. In addition it is obvious that such program can be distributed via a recording medium such as CD ROM and a transmission medium such as the Internet.

The moving picture reproduction apparatus according to the present invention can prevent the reproduction speed to be changed unless normal reproduction or trick play is received so that it can prevent an occurrence of situation in which an optimum trick play result cannot be obtained. Therefore the present invention can prevent causing unexpected operations and malfunctions increase usability of viewers and reduce an occurrence of situation which a program generator has to expect so that a program can be easily generated.

Hereinafter the embodiments of the present invention shall be described with reference to the diagrams.

The embodiment of the cable television system according to the present invention shall be explained with reference to the diagrams. is a block diagram showing the relationship among apparatuses composing the cable system which are a head end and three terminal apparatuses that are recording and reproduction apparatuses a terminal apparatus A a terminal apparatus B and a terminal apparatus C. In the present embodiment three terminal apparatuses are connected to one head end but the present invention can be carried out even with an arbitrary number of terminal apparatuses being connected to the head end.

The head end transmits to plural terminal apparatuses broadcast signals such as video audio and data and receives data transmitted from the terminal apparatuses. In order to implement this frequency bands are divided for use in data transmission between the head end and the terminal apparatus A the terminal apparatus B and the terminal apparatus C. is a table indicating one example of the division of the frequency bands. The frequency bands are roughly divided into two types Out Of Band abbr. OOB and In Band. A frequency band of 5 to 130 MHz is allocated to OOB to be mainly used for data exchange between the head end and the terminal apparatus A the terminal apparatus B and the terminal apparatus C. A frequency band of 130 MHz to 864 MHz is allocated to In Band and is mainly used in a broadcast channel including video and audio. QPSK modulation type is used with OOB whereas QAM64 modulation type is used with In Band. Modulation type technology is generally known and of little concern to the present invention and detailed descriptions are therefore omitted.

The head end has a QPSK modulation unit a QAM modulation unit and the like in order to transmit suitable broadcast signals to the respective frequency bands. In addition the head end has a QPSK demodulation unit for receiving data from the terminal apparatuses. Also the head end is assumed to further have various devices related to the above modulation units and demodulation unit. However the present invention relates mainly to the terminal apparatuses and therefore detailed descriptions are omitted.

The terminal apparatus A the terminal apparatus B and the terminal apparatus C receive and reproduce broadcast signals transmitted from the head end . Furthermore the terminal apparatus A the terminal apparatus B and the terminal apparatus C transmit data unique to each terminal apparatus to the head end . In the present embodiment these three terminal apparatuses shall have the same configuration.

Referring to the QAM demodulation unit demodulates a signal which has been QAM modulated in and transmitted from the head end according to tuning information that includes a frequency specified by the CPU and passes the resultant to the POD .

The QPSK demodulation unit demodulates a signal which has been QPSK modulated in and transmitted from the head end according to tuning information that includes a frequency specified by the CPU and passes the resultant to the POD .

The QPSK modulation unit QPSK modulates a signal passed from the POD according to modulation information that includes a frequency specified by the CPU and transmits the resultant to the head end .

The POD as in is attachable to detachable from the main body of the terminal apparatus . The definition of the connection interface between the main body of the terminal and the POD is given in OpenCable HOST POD Interface Specification OC SP HOSTPOD IF I12 030210 and in specifications referred to by such specification. POD is commonly called as CableCARD. The POD mainly performs decoding processing generally referred to as conditional access or as CA on the coded signal transmitted from the head end and intermediate processing for two way communications between the head end and the terminal apparatus . In the decoding of the coded signal transmitted from the head end the POD receives the signal from the QAM demodulation unit and decodes the received signal in the case where the received signal has been coded. The POD then transmits the decoded signal to the TS decoder of the terminal apparatus .

Whereas any decoding methods are applicable the method to be used is generally kept unknown so that there is a common case where even a manufacturer of the terminal apparatus does not know the method used. Furthermore in the intermediate processing for the two way communications between the head end and the terminal apparatus the terminal main body performs processing for indirectly allowing the two way communications with the head end using a function defined as a connection interface of the POD . The method of allowing the two way communications between the POD and the head end is determined as a method defined in the specification and a method defined by a unique agreement between respective manufacturers of the POD and the head end there is a case where the respective manufacturers are the same . However since it is less related to the present invention the detailed explanation is omitted.

The TS decoder performs filtering on the signal received from the POD and outputs necessary data to the output destination specified by the CPU . The output destination is selected from the audio decoder the video decoder and the CPU . Here the signal sent from the POD is an MPEG 2 transport stream. A detailed description about an MPEG 2 transport stream is given in the MPEG specification ISO IEC13818 1 and therefore detailed explanation shall be omitted in the present embodiment. An MPEG 2 transport stream is composed of plural fixed length packets and a packet ID is assigned to each packet.

Referring to when the CPU indicates to the TS decoder the packet ID 1 as well as the video decoder as an output destination the TS decoder extracts packets with the packet ID 1 from the MPEG 2 transport stream received from the POD and passes them to the video decoder . In therefore only the video data is passed over to the video decoder . At the same time when the CPU indicates to the TS decoder the packet ID 2 as well as the audio decoder the TS decoder extracts packets with the packet ID 2 from the MPEG 2 transport stream received from the POD and passes them to the audio decoder . In therefore only the audio data is passed over to the audio decoder and the CPU .

This process of extracting only necessary packets according to the packet IDs corresponds to the filtering performed by the TS decoder . The TS decoder is capable of performing more than one filtering processing simultaneously at the instruction of the CPU .

Referring to the audio decoder concatenates audio data embedded in the packets in the MPEG 2 transport stream provided by the TS decoder and outputs the resultant to the predetermined output destination or the output destination indicated by the CPU . For example the audio data is an MPEG audio which is coded based on the MPEG audio specification ISO IEC13818 3. The audio decoder is mounted as an MPEG audio decoder and outputs a normal audio signal. The CPU designates as the output destination the speaker or the audio encoder .

The video decoder concatenates video data embedded in the packets in the MPEG 2 transport stream provided by the TS decoder performs digital to analog conversion on the concatenated data and outputs the resultant to a predetermined output destination or the output destination indicated by the CPU . For example the video data is an MPEG video coded based on the MPEG video specification ISO IEC13818 2 and the video decoder is mounted as an MPEG video decoder and outputs an ordinary video signal. The CPU designates as an output destination the display or the video encoder .

The display to be more specific configured of a CRT or a liquid crystal and the like outputs displays a video signal provided by the video decoder and displays a message specified by the CPU and so forth.

The secondary storage unit to be more specific configured of one or more flash memories or a hard disk and the like stores and deletes data and programs specified by the CPU or an MPEG transport stream. Furthermore the stored data and programs are outputted to the CPU and the TS decoder . The stored data and programs are kept in storage even when power to the terminal apparatus is cut off.

The primary storage unit to be more specific configured of a Random Access Memory RAM and the like temporarily stores and deletes data and programs specified by the CPU . Furthermore the stored data and programs are referred to by the CPU . The stored data and programs are deleted when power to the terminal apparatus is cut off.

The ROM is a read only memory device to be more specific configured of a Read Only Memory ROM a CD ROM or a DVD and the like. The ROM stores a program to be executed by the CPU .

The input unit to be more specific configured of a front panel or a remote control accepts an input from the user. is one example of a case where the input unit is configured of the front panel. is a front panel which corresponds to the front panel unit shown in . The front panel has an up cursor button a down cursor button a left cursor button a right cursor button an OK button a cancel button an EPG button and a REC button . When the user presses down a button the identifier of such pressed button is notified to the CPU .

Referring to the CPU executes the program stored in the ROM . Following the instructions from such program to be executed the CPU controls the QAM demodulation unit the QPSK demodulation unit the QPSK modulation unit the POD the TS decoder the display the secondary storage unit the primary storage unit the ROM the audio encoder the video encoder and the multiplexer .

The audio encoder receives an output from the audio decoder encodes the received output into a predetermined format or a format specified by the CPU and outputs the resultant to a predetermined output destination or an output destination specified by the CPU . For example the audio data is an MPEG audio coded in compliance with the MPEG audio specification ISO IEC13818 3. The audio encoder is mounted as an MPEG audio encoder and outputs a normal audio signal as an MPEG audio data.

The video encoder receives an output from the video decoder encodes the received output into a predetermined format or a format specified by the CPU and outputs the resultant to a predetermined output destination or an output destination specified by the CPU . For example the video data is an MPEG video coded in compliance with the MPEG video specification ISO IEC13818 2. The video encoder is mounted as an MPEG video encoder and outputs a normal video signal as an MPEG video data.

The multiplexer multiplexes the received video and audio data and outputs the resultant to the predetermined output destination or the output destination specified by the CPU . The known technology can be used for a specific multiplexing method and the details shall be referred to the MPEG specifications. For example the multiplexing is an MPEG transport stream that is multiplexed in compliance with the MPEG system specification ISO IEC13818 1. The multiplexer is mounted as an MPEG transport stream multiplexer multiplexes the MPEG audio data and the MPEG video data into the MPEG transport stream format and outputs the resultant.

The output destination of each of the aforementioned constituent elements is specified by the CPU based on an expected operational result. Specifically it is specified by a program group that is stored in an after mentioned ROM and is executed by the CPU .

For example in the case where a content being broadcast is reproduced the CPU indicates to each constituent element an output destination so as to have a data flow as described below. First the output from the QAM demodulation unit is inputted to the POD and the output of the POD is inputted to the TS decoder . After that the audio packet output from the TS decoder is inputted to the audio decoder the audio output from the audio decoder is inputted to the speaker and the audio is reproduced from the speaker . On the other hand the video packet output from the TS decoder is inputted to the video decoder the video output from the video decoder is inputted to the video display and the video is displayed on the display . Through the aforementioned operations the content being broadcast is reproduced from the speaker and on the display.

For example in the case where the content being broadcast is recorded the CPU indicates to each constituent an output destination so as to have a data flow as described below. First the output from the QAM demodulation unit is inputted to the POD and the output of the POD is inputted to the TS decoder . After that the audio packet output from the TS decoder is inputted to the audio decoder the audio output from the audio decoder is inputted to the audio encoder and the audio data output from the audio encoder is inputted to the multiplexer . On the other hand the video packet output from the TS decoder is inputted to the video decoder the video output from the video decoder is inputted to the video encoder and the video data output from the video encoder is inputted to the multiplexer . The multiplexer multiplexes the input audio data and video data into the MPEG transport stream format and outputs the resultant to the secondary storage unit. Through the aforementioned operations the broadcast content is recorded into the secondary storage unit.

For example in the case where a content recorded in the secondary storage unit is reproduced the CPU indicates to each constituent element an output destination so as to have a data flow as described below. First the MPEG transport stream output from the secondary storage unit is inputted to the TS decoder . After that the audio packet output from the TS decoder is inputted to the audio decoder the audio output from the audio decoder is inputted to the speaker and the audio is reproduced from the speaker . On the other hand the video packet output from the TS decoder is inputted to the video decoder the video output from the video decoder is inputted to the display and the video is displayed on the display . Through the aforementioned operations the content stored in the secondary storage unit is reproduced.

A program is made up of plural subprograms. To be more specific the program is made up of an OS an EPG a Java VM a service manager a Java library and a recording manager .

The OS stands for operating system an example of which is Linux and the like. The OS is a generic name for publicly known technology made up of a kernel and a library for executing subprograms in parallel and therefore a detailed explanation is omitted. In the present embodiment the kernel of the OS executes the EPG and the Java VM as subprograms. Meanwhile the library provides these subprograms with plural functions required for controlling the constituent elements of the terminal apparatus .

Here tuning is introduced as an example of such functions. In the tuning function tuning information including a frequency is received from another subprogram and then passed over to the QAM demodulation unit . Accordingly the QAM demodulation unit can demodulate data based on the provided tuning information and pass the demodulated data to the POD . As a result the other subprograms can control the QAM demodulation unit via the library

The EPG has a function of making a user select a content while displaying for the user information relating to the content to be broadcast or the recorded content. The EPG is made up of a program display unit for accepting an input from the user and a reproduction unit for indicating an instruction for content reproduction. Here EPG stands for Electric Program Guide.

First it is described about the procedure by which the EPG displays the content to be broadcast and reproduces the content selected by the user. The EPG is started by the kernel when power to the terminal apparatus is turned on. Inside the started EPG the program display unit awaits input from the user through the input unit of the terminal apparatus . Here in the case where the input unit is configured of the front panel shown in when the user presses down the EPG button on the input unit the CPU is notified of the identifier of such EPG button. The program display unit of the EPG which is a subprogram running on the CPU accepts this identifier and displays program information on the display .

When the OK button on the front panel is pressed down in the state shown in the program display unit notifies the reproduction unit of the identifier of Channel 1 . When the OK button on the front panel is pressed down in the state shown in the program display unit notifies the reproduction unit of the identifier of Channel 2 .

Furthermore the program display unit periodically stores program information to be displayed from the head end into the primary storage unit via the POD . Generally it takes time to obtain program information from the head end. However it becomes possible to quickly display a program table by displaying the program information that is pre stored in the primary storage unit at the press of the EPG button of the input unit .

The reproduction unit sends an instruction to reproduce the content to be broadcast using the received identifier of the channel in the case where the received information is the content to be broadcast. The relationship between channel identifiers and channels is pre stored in the secondary storage unit as channel information.

It should be noted that as shown in here a channel indicates a frequency band channel information is information for using the frequency band in which the channel exists and the content to be broadcast is a collective of video audio and application included in the channel.

Moreover when the user presses down the up cursor and the down cursor on the front panel while the content of a channel is being reproduced the reproduction unit receives a notification about such press by the user from the input unit via the CPU and switches the channel being reproduced to another one. First the reproduction unit stores in the primary storage unit the identifier of the channel that is currently being reproduced.

Next it is described about the procedure by which the EPG displays the content to be broadcast and performs a recording reservation of the content selected by the user. Here in the case where the input unit is configured of the front panel shown in when the user presses down the REC button on the input unit the CPU is notified of the identifier of such REC button. The program display unit of the EPG which is a subprogram running on the CPU accepts this identifier and displays program information on the display . The program display unit displays a screen for performing a recording reservation of the content to be broadcast in contrast to the case where the identifier of the EPG button is received.

Referring to the recording manager manages recording reservation instructs to record a content in accordance with the recording reservation and manages the recorded content. First it is described about the management of recording reservation. For example when receiving information relating to the recording reservation from the program display unit of the EPG the recording manager stores the received information into the primary storage unit . shows an example of details stored in the primary storage unit . A column describes a reservation identifier for identifying each recording reservation. A column describes a channel name included in the recording reservation. A column describes a start time of recording. A column describes an end time of recording. A column describes additional information attached to the recording reservation.

A column describes information indicating whether or not the recording has been finished recording state . For example 1 indicates that the recording has been finished and 0 indicates that the recording has not been finished. A row and a row respectively indicate a recording reservation. Here the row describes a recording reservation having a reservation identifier of 1 a channel name of Channel 2 a start time of 09 00 an end time of 11 00 the additional information of Movie BBB and a recording state of 0 . Furthermore the row describes a recording reservation having a reservation identifier of 2 a channel name of Channel 1 a start time of 20 00 an end time of 21 00 the additional information of Drama C and a recording state of 1 .

In addition the recording manager instructs based on the information included in the recording reservation to start recording onto the secondary storage unit a content of the channel corresponding to the current channel name in other words additional data such as video audio and application when it is a start time of one of the stored recording reservations and instructs to terminate recording when it is an end time of the recording reservation. The channel identifier corresponding to the channel name is found with reference to . When the recording is completed the recording state is changed from 0 to 1 . It should be noted that information relating to the recorded content a format in which the information is stored in the primary storage unit and the like are shown in . Whenever new content is recorded one line of an entry is added to the format shown in .

In and are respective entries relating to the recorded contents that are different from each other. The recorded data identifier is an ID for uniquely identifying the recorded content. The recording manager assigns a unique value to each content. The channel name is a channel name of each content and is equivalent to the channel name in . The storage information is a file path name in which each of the recorded contents is stored.

Next it is described about the procedure by which the EPG displays the recorded content and reproduces the content selected by the user. The program display unit receives information relating to the recorded content from the recording manager and presents the received information to the user.

The information to be passed over is for example the details shown in the column of . Furthermore a place where the content is recorded for example a file name and the like may be included as information relating to the recorded content. Or only the reservation identifier in is passed over and the service manager may obtain from the recording manager information necessary for reproduction based on the reservation identifier .

Referring to the Java VM is a Java virtual machine which sequentially analyzes and executes programs written in the Java language. Programs written in the Java language are compiled of intermediate code which does not depend on hardware called bytecode. The Java virtual machine is an interpreter which executes this bytecode. Some of the Java virtual machines translate the byte codes into an executable form which can be interpreted by the CPU and pass the resultant to the CPU which executes it. The Java VM is started with a Java program to be executed being specified by the kernel

In the present embodiment the kernel specifies the service manager as a Java program to be executed. Details of the Java language are explained in many publications such as Java Language Specification ISBN 0 201 63451 1 . Here those details are omitted. In addition detailed operations of the Java VM itself are explained in many publications such as Java Virtual Machine Specification ISBN 0 201 63451 X . Here those details are omitted.

The service manager which is a Java program written in the Java language is sequentially executed by the Java VM . The service manager can call or to be called by another subprogram which is not written in the Java language through Java Native Interface JNI . JNI is also described in many publications such as Java Native Interface . Here those details are omitted.

The service manager receives information relating to the content to be reproduced such as the identifier of a channel from the reproduction unit through the JNI. The service manager also provides a Java API for another Java program to identify a channel identifier to be reproduced for the service manager. Specifically it provides a Java method called select int channel . That is another Java program can specify a content to be reproduced by identifying to the channel parameter an identifier of the channel and calling this method.

As described in the above the content to be reproduced is indicated to the service manager through JNI or select method of the Java method. In the case where the content to be reproduced is the content to be broadcast the service manager first passes the identifier of the channel to a Tuner in the Java library so as to request for tuning. The Tuner obtains the turning information with reference to the channel information stored in the secondary storage unit . Assuming that the service manager passes the identifier 2 of the channel to the Tuner the Tuner obtains the tuning information 156 MHz corresponding to the channel with reference to the row shown in . The Tuner passes the tuning information to the QAM demodulation unit via the library of the OS . The QAM demodulation unit demodulates the signal sent from the head end according to the tuning information given to the QAM demodulation unit and passes the resultant signal to the POD .

Next the service manager requests a CA inside the Java library to perform descrambling. The CA provides the POD with information required for descrambling through the library in the OS . On the basis of such provided information the POD descrambles the signal provided by the QAM demodulation unit and passes the resultant signal to the TS decoder . It should be noted that the CA does not necessarily perform processing relating to descrambling in the case where it is determined that descrambling is unnecessary to be performed in other words scrambling has not been performed .

Next the service manager provides a JMF inside the Java library with the identifier of the channel so as to request for the reproduction of the video and audio.

First the JMF obtains from a PAT and a PMT packet IDs for identifying the video and audio to be reproduced. PAT and PMT are tables defined by the MPEG 2 specification that show the program line up included in an MPEG 2 transport stream. PAT and PMT are carried in the payloads in packets included in an MPEG 2 transport stream together with audio and video. Refer to the specification for a detailed description of PAT and PMT. Here only an overview of PAT and PMT is given. PAT stands for Program Association Table and is carried in packets with the packet ID 0 . In order to obtain PAT the JMF indicates to the TS decoder the packet ID 0 and the CPU through the library of the OS . The TS decoder then performs filtering based on the packet ID 0 and passes the resultant to the CPU . Accordingly the JMF can collect the PAT packets.

The JMF then provides the TS decoder with pairs of the obtained audio packet ID and the audio decoder as an output destination as well as the video packet ID and the video decoder as an output destination via the library of the OS . The TS decoder performs filtering based on such provided packet IDs and the output destinations. Here the packet with the packet ID 5011 is passed over to the audio decoder and the packet with the packet ID 5012 is passed over to the video decoder . The audio decoder performs digital to analog conversion on the provided packet so as to reproduce the audio via the speaker . The video decoder performs digital to analog conversion on the provided packet so as to display the video on the display .

Finally the service manager provides the channel identifier to an AM in the Java library so as to request for data broadcast reproduction. Here data broadcast reproduction indicates to extract a Java program included in the MPEG 2 transport stream that is an application and cause the Java VM to execute it. A format called DSMCC which is noted in the MPEG specifications ISO IEC 13818 6 is used as the method of embedding the Java program into the MPEG 2 transport stream. Here detailed descriptions of DSMCC are omitted.

DSMCC specification defines a method of encoding a file system comprised of directories and files used by a computer in packets within an MPEG 2 transport stream. Furthermore information of the Java program to be executed is carried in packets in the MPEG 2 transport stream in the form of AIT. Here AIT stands for Application Information Table defined in OCAP 1.0 specification.

First in order to obtain the AIT the AM obtains the PAT and PMT as in the case of the JMF so as to obtain the packet ID of the packet which stores the AIT. Assuming that 2 is the provided channel identifier and that the PAT shown in and the PMT shown in are being transmitted the AM obtains the PMT shown in according to the same procedure by the JMF . The AM extracts from the PMT the packet ID of the elementary stream whose stream type is Data and which has AIT as additional information. As shown in the elementary stream in the row corresponds to such elementary stream and therefore the AM obtains the packet ID 5013 from it.

The AM provides the TS decoder with the packet ID of the AIT and the CPU as an output destination through the library of the OS . The TS decoder then performs filtering based on such provided packet ID and passes the resultant to the CPU . Accordingly the AM can collect the packets of AIT. is a table that schematically shows an example of the collected AIT information. A column describes identifiers of Java programs. A column describes control information for controlling the Java programs. The control information includes autostart present and kill . autostart means that the terminal apparatus automatically executes the program promptly. present means that the program is not executed automatically. kill means that the program is to be terminated.

A column describes DSMCC identifiers used for extracting packet IDs that include Java programs in the DSMCC format. A column describes program names of the Java programs. A column describes priorities. Priorities can be used for deciding orders among plural applications in a process. Each of rows and is a set of information of a Java program. The Java program defined in the row is a set of an identifier 301 control information autostart a DSMCC identifier 1 a program name a TopXlet and a priority level 100 . The Java program defined in the row is a set of an identifier 302 control information present a DSMCC identifier 1 a program name b GameXlet and a priority level 50 . Here these two Java programs have the same DSMCC identifier which indicates that two Java programs are included in the file system which has been encoded according to the same DSMCC method. Here only four items of information are specified for the respective Java programs but more items of information are specified in actuality. The OCAP 1.0 specification shall be referred for the details.

The AM finds the autostart Java program from the AIT and extracts the corresponding DSMCC identifier and Java program name. Referring to the AM extracts the Java program in the row and obtains the DSMCC identifier 1 and the Java program name a TopXlet .

Next the AM obtains from the PMT the packet ID of packets that store Java programs in the DSMCC format using the DSMCC identifier obtained from the AIT. More specifically the AM obtains from the PMT the packet ID included in the elementary stream having a stream type of Data and having a matching DSMCC identifier in the additional information.

Here assuming that such DSMCC identifier is 1 and the PMT is the one shown in the elementary stream in the row satisfies the above condition. Therefore the packet ID 5014 is to be extracted.

The AM indicates to the TS decoder the packet ID of packets in which data is embedded in the DSMCC format as well as the CPU as an output destination through the library of the OS . Here the packet ID 5014 is provided. The TS decoder then performs filtering based on such provided packet ID and passes the resultant to the CPU . Accordingly the AM can collect the required packets. The AM reconstructs the file system from the collected packets according to the DSMCC method and stores the reconstructed file system into the primary storage unit . The process of extracting data such as the file system from packets in the MPEG 2 transport stream and storing the extracted data into storage units such as the primary storage unit is hereinafter called download.

Subsequently the AM passes to the Java VM a Java program to be executed out of the file system downloaded into the primary storage unit . Assuming that the name of the Java program to be executed is a TopXlet the file a TopXlet.class in which .class is added to the end of the Java program name is the file to be executed. is a directory and file name division and referring to the file is the Java program which should be executed. Next the AM passes the file to the Java VM .

Upon receiving a different channel identifier the service manager terminates through each library included in the Java library the video audio being reproduced through the same respective libraries included in the Java library and the executed Java program and then based on the newly accepted channel identifier carries out video audio reproduction and Java program execution.

It should be noted that the application executed by the AM based on the aforementioned AIT is a type of Java program so that the content to be reproduced can be designated by calling select int channel method provided by the service manager .

In the OCAP 1.0 specification instead of the program that is previously prepared in the terminal such as the EPG it is defined a procedure of downloading an application from outside the terminal apparatus and executing it. Hereinafter such application is referred to as a monitor application.

A row and a row respectively describe a set of information relating to a monitor application. The monitor application defined by the row is a set of a Java program identifier 401 control information autostart a DSMCC identifier 1 a program name a MA1 a priority level 255 an abstract service identifier 100 and an abstract service automatic selection identifier 1 . The monitor application defined by the row is a set of an identifier 402 control information present a DSMCC identifier 1 a program name b MA2 a priority level 210 an abstract service identifier 200 and an abstract service automatic selection identifier 0 .

The service manager tries to obtain an XAIT after being started by the OS . Whereas the XAIT can be sent and obtained by any type of methods it is sent by being stored in a place that is previously determined by a specification for example using OOB. When obtaining the XAIT shown in the service manager searches for an abstract service whose abstract service automatic selection identifier is 1 while analyzing the details. When the abstract service whose abstract service automatic selection identifier is 1 is found the service manager reproduces the abstract service. Unlike the case of reproducing the content to be broadcast the service manager sends as a process an instruction to the AM to start a monitor application without sending it to the Tuner the CA and the JMF . The process in the AM is same as in the case of the channel at which a content is to be broadcast and therefore the explanation is omitted.

The started monitor application can control constituent elements in the terminal using the Java library . For example in the case where the started monitor application selects a channel instead of the EPG the same processing as in the case where the EPG selects a channel is performed by which the monitor application directly calls the Java library . Since the monitor application is a type of Java program it is also possible that the monitor application selects a channel via the service manager by calling a select int channel method that is the Java method provided by the service manager . Accordingly the application which is not related to a channel can be started. More specifically the service manager can simultaneously manage two or more services that is a channel at which a content is to be broadcast and an abstract service .

However a specific restriction may be added. For example the above restriction is assumed to be a restriction that only one of the contents to be broadcast can be managed at one time. This restriction causes the following in the case where a content to be broadcast is currently being reproduced that is the content is being viewed upon receiving an instruction to reproduce another content to be broadcast the currently being reproduced content is excluded from the management that is the reproduction is stopped and the another content is reproduced and managed that is the another content can be viewed .

Here as described in the above the service manager can accept not only reproduction instructions for the content being broadcast and the abstract service but also a reproduction instruction for the content recorded in the secondary storage unit . As similar to the reproduction instruction of the broadcast content the service manager can instruct to reproduce the recorded content by providing the recorded data identifier to the service manager through JNI or by providing the recorded data identifier to the channel parameter of the select int channel method that is the Java method provided by the service manager . The recorded data identifier is a value of the recorded data identifier shown in and is assigned by the recording manager . The detailed explanations about a format of recording data and the recording data identifier generated by the recording manager are given later.

It is described about the processing in the case where the service manager accepts a reproduction instruction of the recorded content using one of the aforementioned methods. Upon accepting the reproduction instruction of the recorded content the service manager passes the MPEG transport stream output from the secondary storage unit to the TS decoder . Note that it may be configured that the CA performs descrambling by scrambling the content at the time of recording.

Next the service manager provides a JMF inside the Java library with a recorded data identifier so as to request for the reproduction of the video audio.

First the JMF obtains storage information corresponding to the recorded data identifier from the data stored in the recording manager . The storage information is a file path name for indicating a file location of the recorded content that is the additional data such as video audio and application. However the storage information may be passed from the service manager instead of being obtained by the JMF . The JMF determines from information stored as the storage information video audio to be reproduced and reproduces the determined video audio. A reproduction method can be realized by the aforementioned method shown in the case of reproducing the channel at which a content is to be broadcast or by a publicly known technique. It is thus less related to the present invention so that the detailed explanation is omitted. For example PAT and PMT are obtained from the recorded content and video and audio are reproduced based on the information described in the obtained PMT.

Finally the service manager provides the channel identifier to an AM in the Java library so as to request for execution of an application.

First the AM obtains storage information corresponding to the recorded data identifier from the data stored in the recording manager . However the storage information may be passed from the service manager instead of being obtained by the AM . The AM obtains from the information stored as the storage information information relating to an application to be executed. Whereas a method of saving files which configured of an application a method of obtaining an AIT depend on the recording method used at the time of recording the method of executing an application can be realized by a method shown in the case of executing the application in the channel to be broadcast or by a publicly known technique. It is thus less related to the present invention so that the detailed explanation is omitted. Furthermore the present invention can be realized by any type of recording method or obtainment and analyzing methods as long as the application in the recorded channel is to be executed.

While it is described in the above that the service manager can simultaneously manage two or more services in the case where the content to be broadcast can be recorded and reproduced the service manager can accept reproduction instructions of three types of services in other words the content to be broadcast the abstract service and the recorded content and perform management corresponding to the accepted instructions.

Here referring to it is described about an example with respect to a management method performed by the service manager .

The service manager retains the data structure in the primary storage unit shown in . A column describes service types each of which shows a type in other words one of the aforementioned three types of service that is reproduced and managed. A column describes service identifiers each of which is an identifier identified by one of the types according to the service type. A row and a row respectively indicate a service that is reproduced and managed. The service indicated in the row has Recorded content as the service type and Channel 1 as the service identifier . Furthermore the service indicated in the row has Abstract service as the service type and 100 as the service identifier .

More specifically as an example the service indicated in the row is the one recorded the channel indicated in the row shown in . The service has constituent elements of video audio application originally the one transmitted in the DSMCC method and AIT shown in . A state where the service indicated in the row is being reproduced and managed shows a state in which the video and audio are being reproduced and the application is being executed. More specifically an AIT is the one shown in and an application referred to as broadcast interlocking application hereinafter having 301 as a Java program identifier is executed in accordance with the aforementioned procedure. Furthermore the service indicated in the row is an abstract service that is reproduced and managed based on the XAIT shown in . A state where the service indicated in the row is being reproduced and managed shows a state where an application simply referred to as a monitor application hereinafter having 401 as a Java program identifier is being executed as shown in .

Hereinafter using this state as a representative example it is described about the problems to be solved by the present invention and the solution thereof.

The broadcast interlocking application can perform using JMF trick play of video audio being reproduced in association with the broadcast interlocking application itself. The broadcast interlocking application can construct attractive details under pre estimated situation by two way conjunction with the viewers.

However if the monitor application can similarly perform trick play of video audio in association with the broadcast interlocking application using JMF the broadcast interlocking application has to deal with reproduction states as much as they cannot be taken into consideration. Therefore it is difficult to generate an application and to keep quality of a program in which the application is included. On the contrary in the case where the monitor application plays a main role such as an EPG there is a possibility that an instruction for trick play from the monitor application is interfered with the broadcast interlocking application. In the case where the instruction for trick play from the monitor application is an instruction based on an operation of a remote control by the viewer there is a sufficient possibility that the viewer may be confused. Furthermore in the case where two or more monitor applications are executed there is a possibility that a discrepancy is caused for trick play instructions among monitor applications. The JMF specification does not include a framework for solving such problems.

In other to solve the aforementioned problems the present invention introduces an exclusive control mechanism for trick play instructions.

The moving picture trick play management unit retains and manages speed reproduction speed and time information for reproducing a moving picture in the JMF . Furthermore reproduction speed and time can be set and obtained from the application the constituent elements in the Java library or the service manager they are collectively referred to as external unit hereinafter .

Reproduction speed indicates for example normal reproduction at the value of 1.0 fast forward at the value larger than 1.0 stop at the value of 0.0 low speed reproduction slow at the value that is larger than 0.0 and smaller than 1.0 and rewind at the value smaller than 0.0. In other words it indicates that normal reproduction applies to only when the value is 1.0 and trick play applies to the values other than 1.0. B and C are diagrams schematically showing reproduction speed stored in the primary storage unit by the moving picture trick play management unit in the above cases. shows a state where 1.0 indicating normal reproduction is retained. Here in the case where 2.0 is set as an instruction for fast forward sent from the external unit the above state is changed to a state shown in . Furthermore in the case where 1.0 is set as an instruction for rewind sent from the external unit the above state is changed to a state shown in .

In addition the moving picture trick play management unit always retains reproduction speed of some kind. In other words it has reproduction speed of some kind as an initial value. For example in the case where reproduction speed has not been set by the external unit it retains the value of 1.0. It should be noted that the present invention can be realized using number values other than the above as long as normal reproduction and trick play can be identified. Accordingly an expression indicating that normal reproduction or trick play is set is used hereinafter instead of specific number values. Furthermore the setting of reproduction speed instructs normal reproduction or trick play.

Time information is time on a time axis of video audio. Specifically for example in the case where the length of video audio is sixty minutes zero minute indicates a head of the video audio sixty minutes indicate the end and thirty minutes indicate the middle point. The time information is also stored in the primary storage unit as well as the reproduction speed.

Referring to the moving picture reproduction processing unit reproduces video audio to be reproduced and instructs to the secondary storage unit the audio decoder or the video decoder the reproduction speed and time information obtained or instructed by the moving picture trick play management unit . The audio decoder or the video decoder can reproduce audio or video at an instructed speed time as the result of which the secondary storage unit outputs an MPEG transport stream at the instructed speed and time.

Furthermore the application constituent elements in the Java library or the service manager can change a designation of video audio to be reproduced and a reproduction state a state of being reproduced a state of being stopped and the like . In addition the moving picture reproduction processing unit retains information indicating what kind of instruction is currently being sent to the audio decoder or the video decoder this is referred to as a reproduction status hereinafter so that it can reply the retained details in response to a request from the external unit or the moving picture trick play management unit .

Upon receiving the instruction to set reproduction speed from the external unit the moving picture trick play management unit obtains details of the instruction hereinafter the obtained details are referred to as TA S obtains reproduction speed which has been stored in the primary storage unit hereinafter the obtained details are referred to as TB S and compares between TA and TB S . When TA is equivalent to TB the processing is terminated because there is no need for change. When TA is different from TB it is determined whether or not TB indicates normal reproduction S . When TB does not indicate normal reproduction in other words trick play a change allowance determination is performed S . The method of change allowance determination shall be later described in detail. When it is determined as change denial as the result of the change allowance determination S the processing is terminated. When it is determined as change allowance the details stored in the primary storage unit are replaced to TA S . In S the details stored in the primary storage unit are replaced to TA even in the case where TB indicates normal reproduction S .

Next the moving picture trick play management unit inquires the moving picture reproduction processing unit about a reproduction status and determines whether or not the result indicates a state of being reproduced S . When it does not indicate the state of being reproduced the processing is terminated. When it indicates the state of being reproduced the moving picture trick play management unit indicates a reproduction speed to the moving picture reproduction processing unit S . Accordingly the instruction to set reproduction speed from the external unit is reflected to a reproduction status of video and audio.

Note that when it is determined as change denial in S the change denial may be notified to an instruction setter that made a setting instruction of the reproduction speed. With respect to a notification method the present invention can be realized by any type of method such an exceptional mechanism in Java language that is a publicly known technique.

The moving picture trick play management unit specifies a setter an application constituent elements in the Java library or the service manager which causes to retain TB S . Hereinafter the setter specified in S is referred to as an old setter . It should be noted that a specific method of specifying a setter is less related to the present invention so that the explanation is omitted. For example it can be realized using publicly known techniques such as a method of using a process in which a setter operates or a thread.

Furthermore it is assumed that the moving picture trick play management unit can store in the primary storage unit information relating to the specified setter and obtain the stored information. and are diagrams which schematically show information relating to a setter stored in the primary storage unit . In the primary storage unit retains 301 as a Java program identifier. This indicates that current reproduction speed is set by the application having a Java program identifier of 301 . In the case where the primary storage unit accepts a setting instruction of reproduction speed from the application having a Java program identifier of 401 a state shown in is obtained. Furthermore in the case where the setter is other than the application for example the service manager additional information or a special value for example 1 may be retained. Regardless of types of information to be retained the present invention can be realized as long as information sufficiently enough to specify a setter can be retained.

Moreover in a status where reproduction speed has never been set it may be determined that an instruction setter that sent an instruction for reproduction to the JMF e.g. the service manager or the application as an old setter or treated as that there is no old setter.

Next referring to the moving picture trick play management unit specifies a setter which sent an instruction to set reproduction speed S . Hereinafter the setter specified in S is referred to as a new setter . Next affinity verification between an old setter and a new setter is performed S . Details of affinity verification are given later. Determining the result of the affinity verification S when it is determined that there is no affinity S the moving picture trick play management unit sends the determination result of change denial back S and terminates the processing. When it is determined that there is affinity the moving picture trick play management unit stores information about the new setter into the primary storage unit S sends the determination result of change allowance back S and terminates the processing.

Next processing of affinity verification S shall be described. is a flowchart which shows a procedure of the affinity verification.

The moving picture trick play management unit compares information relating to the old setter with information relating to the new setter and determines their similarity S . When determining that they are same the moving picture trick play management unit sends with affinity back S and terminates the processing. When determining that they are different from each other it sends without affinity back S and terminates the processing.

In addition in the present embodiment the ROM can be deleted by making the secondary storage unit retain the details retained by the ROM . Further the secondary storage unit may be configured of a plurality of sub secondary storage units with each sub secondary storage unit storing different information. It is possible to precisely divide the sub secondary storage units for example only tuning information is stored in one of the sub secondary storage units the library of the OS is stored in another sub secondary storage unit downloaded Java programs are stored in yet another sub secondary storage unit and so on.

Furthermore in the present embodiment the registered Java program and contents are stored in the secondary storage unit it is possible to store them in the primary storage unit . In the case where they are stored in the primary storage unit all stored information disappears when the power is turned off.

Accordingly in a status where normal reproduction is set it is realized to receive a request from any setter and in a status where trick play is set it is realized to receive an instruction to set reproduction speed time only from the old setter. Therefore it is possible to prevent an occurrence of situation in which the reproduction status is changed by another new setter while the old setter is performing trick play.

It should be noted that the details shown in are not limited to the details indicated herein and they only need to include information sufficient enough for recording processing. Furthermore the details may be configured of plural tables. In addition whereas it is described that the details are stored in the primary storage unit information relating to recording reservation can be retained even after the power is cut off by storing them in the secondary storage unit .

In the present embodiment a procedure that is different from the procedure of affinity verification described in the first embodiment is described.

The configuration of hardware in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the hardware configuration shown in . In addition the configuration of software in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the software configuration shown in . Furthermore the operations of hardware and software are same as those explained using in the first embodiment except the procedure of affinity verification so that redundant explanations are omitted.

In the case where there are plural applications in the same service it is a common case that those applications recognize their existences and operate in conjunction with each other. In such case it is not necessary to perform among applications in the same service exclusive processing relating to trick play. Accordingly while in the first embodiment an old setter and a new setter are compared to determine whether or not they are in complete match in the present embodiment it is characterized to compare services to which respective setters belong.

The moving picture trick play management unit specifies a service to which the old setter belongs S . The detailed explanation about a specific method for the specification is omitted in here since it is less related to the present invention. For example the specification can be realized by which the AM retains a relation between information relating to the service provided to the AM by the service manager and the application started by the AM so as to allow the moving picture trick play management unit to obtain the retained information. It should be noted that the information relating to the application can be realized in compliance with the procedure described in the explanation of S in .

Next the moving picture trick play management unit specifies a service to which the new setter belongs S .

The moving picture trick play management unit then compares the service to which the old setter belongs with the service to which the new setter belongs and determines whether or not they are the same service S . With respect to the comparison method the present invention can be realized using any types of method. For example it can be realized by comparing the service type with the service identifier shown in .

In S when it is determined that they are the same service the moving picture trick play management unit sends the determination result of with affinity back S and terminates the processing. When it is determined that they are not the same service the moving picture trick play management unit sends the determination result of without affinity back S and terminates the processing.

It should be noted that in the present embodiment information relating to services is stored as information relating to setters in the process S shown in so that in the process S shown in it is only necessary to obtain the retained details as a means for specifying a service.

Accordingly in a status where normal reproduction is set it is realized to receive a request from any setter and in the status where trick play is set it is realized to receive from only the setter belonging to the same service as the old setter a setting instruction of reproduction speed time. It is thus possible to prevent an occurrence of situation in which a new setter which belongs to a service other than the service to which the old setter belongs changes the reproduction status while the old setter is performing trick play.

In the present embodiment a procedure that is different from the procedure of affinity verification described in the first embodiment is described.

The configuration of hardware in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the hardware configuration shown in . In addition the configuration of software in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the software configuration shown in . Furthermore the operations of hardware and software are same as those explained using in the first embodiment except the procedure of affinity verification so that redundant explanations are omitted.

Accordingly while in the first embodiment an old setter and a new setter are compared to determine whether or not they are in complete match in the present embodiment it is characterized to compare priorities given to the respective setters.

The moving picture trick play management unit compares priorities respectively given to a new setter and an old setter S . Here in the case of applications a priority level is information included in an AIT shown in or an XAIT shown in and is given to each application. Furthermore in the case of constituent elements in the Java library or the service manager a predetermined arbitrary number may be previously given as a priority level. In S for example in the case where a higher priority level is preferred if the priority level of the old setter is higher than that of the new setter it is determined that the priority level is high. When it is determined that the priority level of the new setter is higher than the priority level of the old setter the moving picture trick play management unit sends the determination result of with affinity back S and terminates the processing. On the other hand when it is determined that the priority level of the new setter is lower than the priority level of the old setter the moving picture trick play management unit sends the determination result of without affinity back S and terminates the processing. It should be noted that the present invention can be realized even any one of the determination results is made in the case where the priorities are equivalent to each other in S.

Accordingly in a situation where normal reproduction is set it is realized to receive a request from any setter and in the situation where trick play is set it is realized to receive from only the setter having a priority level higher than that of the old setter a setting instruction of reproduction speed time. Consequently it is possible to prevent an occurrence of situation in which a new setter having a priority level lower than that of the old setter changes the reproduction status while the old setter is performing trick play.

In the present embodiment it is described about a new procedure of affinity verification that is a combination of characteristics described in the second and third embodiments.

The configuration of hardware in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the hardware configuration shown in . In addition the configuration of software in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the software configuration shown in . Furthermore the operations of hardware and software are same as those explained using in the first embodiment except the procedure of affinity verification so that redundant explanations are omitted.

In the second embodiment a change allowance is determined based on a determination about whether or not services are the same. In the third embodiment a change allowance is determined by comparing priorities. In contract the present embodiment is characterized in that a change allowance is determined by comparing the setters so as to determine whether or not they belong to the same service and also by comparing the priorities.

In S when the services to which respective old and new setters belong are different from each other the determination result of without affinity is sent back S and the processing is terminated. When the services are the same priorities of respective old and new setters are compared S . If the priority level of the new setter is higher than that of the old setter the determination result of with affinity is sent back S and the processing is terminated. On the other hand when the priority level of the old setter is higher than that of the new setter the determination result of without affinity is sent back S and the processing is terminated. It should be noted that also in the present embodiment the present invention can be realized when any one of the determination results is made in the case where the priorities are equal to each other.

Furthermore in comparison of priorities is performed after a determination about whether or not the services are the same is made. However the order of procedures may be reversed. is a flowchart which shows the reversed procedure.

In the case where priorities of respective old and new setters are compared S when the priority level of the new setter is higher than that of the old setter the determination result of with affinity is sent back S and the processing is terminated. On the other hand when the priority level of the new setter is higher than that of the old setter specification of the service to which the old setter belongs S and specification of the service to which the new setter belongs S are performed and it is determined whether or not the specified services are the same service S . When the services to which respective old and new setters belong are different from each other the determination result of without affinity is sent back S and the processing is terminated. When the services are the same the determination result of with affinity is sent back S and the processing is terminated.

Accordingly in a status where normal reproduction is set it is realized to accept a request from any setter and in a status where trick play is set it is realized to accept a setting instruction of reproduction speed time from only the setter belonging to the same service as the old setter and having a priority level higher than that of the old setter. Consequently while the old setter is performing trick play it is possible to prevent an occurrence of situation in which reproduction speed time are changed by the new setter belonging to a service that is different from the service to which the old setter belongs and prevent an occurrence of situation in which reproduction status is changed by the new setter having a lower priority level than the old setter.

In the present embodiment a procedure that is different from the procedure of change allowance determination described in the first embodiment is explained.

The configuration of hardware in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the hardware configuration shown in . In addition the configuration of software in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the software configuration shown in . Furthermore the operations of hardware and software are same as those explained using in the first embodiment except the procedure of change allowance determination so that redundant explanations are omitted.

As shown in in the first embodiment a change allowance is determined by specifying an old setter and a new setter and verifying affinity between them. The present embodiment is characterized in that the affinity verification is performed by only specifying a new setter.

The moving picture trick play management unit specifies a new setter S and performs affinity verification based on the information about the new setter S . Details of affinity verification are given later. Next a return value of the affinity verification is determined S . When it is determined that there is no affinity as the result of the affinity verification the determination result of change denial is sent back S and the processing is terminated. When it is determined that there is affinity the determination result of change allowance is sent back S and the processing is terminated.

Here it is assumed that the moving picture trick play management unit retains a list for identifying a setter that receives an instruction to set reproduction speed hereinafter referred to as a determination list . Details of determination list are given later.

Next processing of affinity verification S is described. is a flowchart which shows a procedure of the affinity verification. It should be noted that same reference numbers are used for the processes same as in and the redundant explanations are therefore omitted.

The moving picture trick play management unit specifies information relating to a new setter S . It is determined whether or not the specified information matches the information in the determination list S . When determining that it matches the information in the determination list the moving picture trick play management unit sends the determination result of with affinity back S and terminates the processing. When determining that it is not matching the information in the determination list the moving picture trick play management unit sends the determination result of without affinity back S and terminates the processing.

Here it is described in detail about the determination list retained by the moving picture trick play management unit . Details included in the determination list are information necessary for determining whether or not the information specified in S matches.

A column describes service types and a column describes service identifiers. A row and a row respectively indicate a service that is being reproduced and managed. Furthermore the service indicated in the row has Recorded content as the service type and Channel 1 as the service identifier . Furthermore the service indicated in the row has Recorded content as the service type and Channel 2 as the service identifier .

In this case referring to it is determined that in the processing in S the information is included in the list only in the case where the service type of the service to which a new setter belongs is Recorded content and the service identifier is Channel 1 or Channel 2 . It should be noted that the determination list can include information other than service types or service identifiers. In such case in the processing in S the determination for determining whether or not the information is included in the determination list remains the same while details of the list change in accordance with the details of the list.

Next an example in which determination is performed using a Java program identifier as information relating to a new setter is described. is a diagram which schematically shows one example of the determination list used for determination to be performed using a Java program identifier. Here the determination list retains 301 as a Java program identifier . In this case referring to it is determined in the processing in S that the specified information matches the information in the determination list only in the case where the Java program identifier relating to the new setter is 301 . It should be noted that while only 301 is retained as the Java program identifier in this case plural Java program identifiers may be retained and in addition a is range can be specified for example a range from 301 to 310 .

It should be also noted that the present invention can be realized even in the case where details of the determination list retained by the moving picture trick play management unit cannot be updated since previously determined values have been already stored.

Furthermore the present invention can be realized even when the details are updated halfway through the processing. As the case of updating the details halfway through the processing for example it is possible to add or replace information of a service instructed to the JMF from the service manager .

Furthermore it is possible to refuse all setting instructions by not putting anything in the determination list.

In addition the details may be dynamically changed in accordance with an operation situation for example by setting to a determination list a service to which an application having the highest priority level among the applications managed by the AM belongs.

It should be noted that the external unit may be allowed to refer to or update the details of the determination list. In this case some restrictions for example a priority level a Java program identifier an authorization retained by an application and the like may be provided.

Accordingly in a status where normal reproduction is set it is realized to receive a request from any setters and in the status where trick play is set it is realized to receive from only the setter which matches the information in the determination list a setting instruction of reproduction speed time. Therefore it is possible to prevent an occurrence of situation in which a reproduction status is changed by another new setter while the old setter is performing trick play.

Differing from the first to fifth embodiments the present embodiment is characterized in that change allowance determination is performed despite the details of the retained reproduction speed TB in a procedure at which the moving picture trick play management unit receives an instruction to set a reproduction speed from the external unit as shown in .

The configuration of hardware in the present embodiment is same as the one in the first embodiment so that a redundant explanation is omitted. Specifically it is the hardware configuration shown in . In addition the configuration of software in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the software configuration shown in . Furthermore the operations of hardware and software are same as those explained using in the first embodiment except operations of the moving picture trick play management unit performed upon receiving a setting instruction of reproduction speed from the external unit so that redundant explanations are omitted.

The moving picture trick play management unit receives an instruction to set reproduction speed from the external unit and determines whether or not a change is allowed S . The details about the change allowance determination are applicable to a process described in any one of the first to fifth embodiments so that the explanations are omitted in here. The moving picture trick play management unit determines a return value in S S and when determining that change is not allowed in S terminates the processing. When determining that change is allowed the moving picture trick play management unit obtains details of an instruction to set reproduction speed received from the external unit S obtains reproduction speed that has been stored in the primary storage unit S and compares the obtained details and reproduction speed for determining whether or not they are the same S . The processing is terminated when they are the same. When they are different from each other the details stored in the primary storage unit are replaced to the details obtained in S S . Next the moving picture trick play management unit inquires the moving picture reproduction processing unit about a reproduction status and determines whether or not the result indicates that the reproduction is being performed S . When it does not indicate that the reproduction is being performed the processing is terminated. When it indicates that the reproduction is being performed the moving picture trick play management unit instructs a reproduction speed to the moving picture reproduction processing unit S . Accordingly the instruction to set reproduction speed from the external unit is reflected to a reproduction status of video and audio.

Consequently it can be prevented to cause situation in which an unexpected new setter changes a reproduction situation by performing change allowance determination described in the first to fifth embodiments despite the fact whether or not normal reproduction is set.

Differing from the first to sixth embodiments the present embodiment is characterized in that whether or not an instruction to set a reproduction speed is accepted is determined in advance before an instruction to set reproduction speed is made.

The configuration of hardware in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the hardware configuration shown in . In addition the configuration of software in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the software configuration shown in . Furthermore the operations of hardware and software are same as those explained using in the first embodiment except points that the moving picture trick play management unit performs recording reservation allowance determination processing and that different operations of change allowance determination of reproduction speed are performed so that redundant explanations are omitted.

In the present embodiment it is described about the case where the moving picture trick play management unit has units shown as examples in .

The moving picture trick play management unit receives a recording reservation request from a setter and performs recording reservation allowance determination S . Next it determines a return value of a recording reservation allowance determination S . Details of recording reservation allowance determination are given later. As the result of recording reservation allowance determination the moving picture trick play management unit terminates the processing when the determination result of reservation denial is sent back. In this case it indicates that a setter which sent a recording reservation request could not program the recording. In S the moving picture trick play management unit changes the recording reservation status S when the determination result of reservation allowance is sent back and terminates the processing. In this case it indicates that a setter which sent a recording reservation request could program the recording. It should be noted that the setter in other words the setter which could program the recording which sent a recording reservation request herein is referred to as a reservation holder. This case also indicates that for the reservation holder which has previously programmed the recording reservation the recording reservation is taken by another new reservation holder. Therefore it may be notified to the previous reservation holder that the recording reservation has been taken by another reservation holder.

It should be noted that in S the setter indicates the setter which programmed the recording so that S is same as in the case where information relating to the setter which programmed the recording is retained in S according to the first embodiment.

It should be also noted that the result about whether or not the recording reservation has been programmed may be notified to the setter which sent a recording reservation request. With respect to the notification method the present invention can be realized using any type of method such as an exceptional mechanism in Java language that is a publicly known technique and a return value of method.

A moving picture trick play management unit performs affinity verification S . Details about the affinity verification can be realized by applying any one of the affinity verifications described in the first to sixth embodiments. As the result in S the moving picture trick play management unit determines whether or not the determination result of with affinity is sent back S sends reservation allowance back in the case of with affinity S and terminates the processing. In the case of without affinity it sends reservation denial back S and terminates the processing.

Next in the present embodiment it is described about a procedure performed at the time when the moving picture trick play management unit receives an instruction to set reproduction speed from the external unit.

The procedure at the time when the moving picture trick play management unit receives an instruction to set reproduction speed from the external unit follows the flowcharts of in the first embodiment and of in the sixth embodiment. However change allowance determination S in and is different in the present embodiment.

First the moving picture trick play management unit specifies a setter which has instructed to change reproduction speed S . It should be noted that the specific method of specifying a setter is same as described in the above. Next the moving picture trick play management unit determines whether or not the specified setter is a reservation holder S . The specific determination method can be realized for example by storing a Java program identifier of the reservation holder in the primary storage unit in S and comparing the stored Java program identifier of the reservation holder with a Java program identifier of the setter in S. is a diagram which schematically shows one example of a state in which the moving picture trick play management unit stores in the primary storage unit 301 as a Java program identifier of a reservation holder.

In S when determining that the setter is the reservation holder the moving picture trick play management unit sends change allowance back S and terminates the processing. When determining that the setter is not the reservation holder the moving picture trick play management unit sends change denial back S and terminates the processing.

It should be noted that whereas an example of determination processing using Java program identifiers was shown in the above the present invention can be realized using any type of information attached to a setter as long as the information is sufficiently enough for the determination processing in S.

For example it is described as another format about the case where determination is performed based on a service to which a setter belongs.

In this case in S information relating to the service to which the setter belongs is obtained and used for comparison. It can be realized for example by previously storing in the primary storage unit a service identifier of the service to which the reservation holder belongs in S and comparing the stored service identifier of the reservation holder with a service identifier of a service to which the setter belongs in S.

Further a unit other than the moving picture trick play management unit that is in the case where units shown as an example in are included in a unit other than the moving picture trick play management unit performs recording reservation processing recording reservation processing shown in and or a part of the processing and determination in S while the moving picture trick play management unit may request the unit to perform determination in S and judge only the determination result.

For example by placing a new reservation management unit in the Java library the new reservation management unit may perform recording reservation processing and determination in S. is a block diagram in the case where the reservation management unit is included in the Java library . In this case the setter sends a recording reservation request not to the moving picture trick play management unit but to the reservation management unit in order to decide whether or not an instruction to set reproduction speed is previously received. When receiving the recording reservation request sent from the setter the reservation management unit performs processing following the flowcharts shown in and .

It should be noted that in the case of a program such as the service manager and the recording manager which can be instructed from the JMF the present invention can be realized by including the processing of the reservation management unit in the program and using the program as the reservation management unit .

Accordingly the setter which could make recording reservation processing can always change reproduction speed and can prevent an occurrence of situation in which a reproduction status is changed by another setter as long as the recording reservation is not taken by the another setter.

The present embodiment is characterized in that AIT or XAIT determines whether or not to allow changing reproduction speed.

The configuration of hardware in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the hardware configuration shown in . In addition the configuration of software in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the software configuration shown in . Furthermore the operations of hardware and software are same as those explained using in the first embodiment except that configurations of AIT and XAIT are different and that change allowance determination procedure of reproduction speed by the moving picture trick play management unit is different so that redundant explanations are omitted.

In the present embodiment it is assumed that applications to be started are all started by the AM based on the information shown in or . While the moving picture trick play management unit performs processing shown in or when receiving an instruction to set reproduction speed from the external unit the processing of change allowance determination S is different in the present embodiment.

The moving picture trick play management unit obtains a change allowance flag relating to a setter and determines whether or not the obtained change allowance flag is 1 S . Note that while the above judgment is made based on the information of 1 any type of information that is different from 1 can be used to realize the above processing as long as the information can be used for change allowance determination. When the change allowance flag is 1 the moving picture trick play management unit stores information relating to the setter S sends the determination result of change allowance back S and terminates the processing. When the change allowance flag is not 1 the moving picture trick play management unit sends the determination result of change denial back S and terminates the processing.

Accordingly it can be determined whether or not an instruction to set reproduction speed can be allowed according to change allowance flags included in AIT or XAIT. Therefore it can be learned in advance about whether or not there are possibilities that the reproduction speed is to be changed by another new setter and that to which set value the reproduction speed is changed.

The present embodiment is characterized in that a change of reproduction speed can be instructed by instructing to start reproduction of the recorded content and that a change of reproduction speed cannot be instructed by instructing to stop the reproduction of the recorded content.

The configuration of hardware in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the hardware configuration shown in . In addition the configuration of software in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the software configuration shown in . Furthermore the operations of hardware and software are same as those explained using in the first embodiment except that operations of the moving picture reproduction processing unit at the time of reproduction start and ending instructions are different and that operations of the moving picture trick play reproduction management unit for the change allowance determination of reproduction speed are different so that redundant explanations are omitted.

When an application instructs to start video audio reproduction by a start method of the moving picture trick play processing unit in addition to the operations described in the first embodiment the moving picture trick play processing unit stores into the primary storage unit a Java program identifier for identifying the application which has called the start method. Accordingly the application reserves an instruction to set reproduction speed of the content which has been started reproducing by the start method that is the application has a right to change the reproduction speed of the current content. On the other hand when the application which has called said start instructs to terminate the reproduction of video audio by the close method of the moving picture reproduction processing unit in addition to the operations described in the first embodiment the moving picture playback processing unit deletes a Java program identifier for identifying the application which has called the start method stored in the primary storage unit.

Accordingly the application releases the reservation of the instruction of setting the reproduction speed of the content which has started the reproduction by the start method that is the application abandons the right to change the reproduction speed of the current content. Other operations of the moving picture reproduction processing unit are same as those described in the first embodiment.

First the moving picture trick play management unit identifies a setter in other words an application which has made an instruction to change reproduction speed S . It should be noted that the specific method of identifying the setter is same as described in the above. Next the moving picture trick play management unit determines whether or not the identified setter is a reservation holder S . The specific determination method can be realized for example by comparing the Java program identifier of the reservation holder recorded in the primary storage unit by the moving picture processing unit with the Java program identifier of the setter identified in S.

In S when determining that the identified setter is a reservation holder the moving picture trick play management unit sends change allowance back S and terminates the processing.

It should be noted that while an example of determination processing using Java program identifiers are shown in the present embodiment the present invention can be realized using any type of information attached to the setter unless there are sufficient information for the determination processing in S.

For example as another method it is described a case where the determination is performed based on services to which setters belong.

In this case in S the information relating to the services to which the setters belong are obtained and compared. For example it can be realized by which the moving picture reproduction processing unit stores in the primary storage unit a service identifier of the service to which the reservation holder belongs and the moving trick play management unit compares in S said service identifier with the service identifier to which a setter belongs.

Accordingly only the setter that has successfully made a recording reservation by the reproduction start instruction of a content can change the reproduction speed and the occurrence of situation in which the reproduction status is changed by another setter can be prevented as long as the reservation is not taken by another setter.

The present embodiment is characterized in that a change of reproduction speed can be instructed by instructing a service manager to select a recorded content and that a change of reproduction speed cannot be instructed by instructing the service manager to cancel the selection of the recorded content.

The configuration of hardware in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the hardware configuration shown in . In addition the configuration of software in the present embodiment is same as the one in the first embodiment so that redundant explanations are omitted. Specifically it is the software configuration shown in . Furthermore the operations of hardware and software are same as those explained using in the first embodiment except that operations of the service manager after selecting the content and that operations of the moving picture trick play reproduction management unit for the change allowance determination of reproduction speed are different so that redundant explanations are omitted.

When the application selects and instructs a content recorded by the select int channel method of the service manager in addition to operations described in the first embodiment the service manager stores into the primary storage unit a Java program identifier for identifying the application which has called the select method. Accordingly the current application reserves an instruction to set reproduction speed of Recorded content which has started reproducing by the select method in other words the application has a right to change the reproduction speed of the current content.

On the other hand in the case where the application which has called the aforementioned select instructs to cancel the selection of video audio by instructing null to the channel parameter of the select int channel of the service manager in addition to operations described in the first embodiment the service manager deletes the Java program identifier for identifying the application which has called the select method stored in the primary storage unit. Accordingly the application releases a reservation of the instruction to set the reproduction speed of the Recorded content which has started being reproduced by the select method that is the application abandons the right to change the reproduction speed of the current content. Other operations of the service manager are same as in the first embodiment.

First the moving picture trick play management unit identifies a setter in other words an application which has made an instruction to change reproduction speed S . It should be noted that the specific method of identifying the setter is same as described in the above. Next the moving picture trick play management unit determines whether or not the identified setter is a reservation holder S . The specific determination method can be realized for example by comparing the Java program identifier of the reservation holder recorded in the primary storage unit by the service manager that is the application which has called the select method and instructed to select Recorded content with the Java program identifier of the setter identified in S.

In S when determining that the identified setter is a reservation holder the moving picture trick play management unit sends change allowance back S and terminates the processing.

It should be noted that while an example of determination processing using Java program identifiers are shown in the present embodiment the present invention can be realized using any type of information attached to the setter unless there are sufficient information for the determination processing in S.

For example as another method it is described a case where the determination is performed based on services to which setters belong.

In this case in S the information relating to the services to which the setters belong are obtained and compared. For example it can be realized by which the service manager stores in the primary storage unit a service identifier of the service to which the reservation holder belongs and the moving trick play management unit compares in S said service identifier with the service identifier to which a setter belongs.

Accordingly only the setter that has successfully made a reservation by the reproduction start instruction of a content can change the reproduction speed and the occurrence of situation in which the reproduction status is changed by another setter can be prevented as long as the reservation is not taken by another setter.

It should be noted that in the first to ninth embodiments the present invention can be realized by applying any type of recording unit and a reproduction unit as long as video and audio are reproduced included in a recorded content upon reproducing the recorded content and in the case where the video and audio are included in an application as long as the application is to be executed. Note that in the all aforementioned embodiments as another recording method the outputs from the audio encoder and the video encoder may be stored in the second storage unit . In such case one of the following processes is taken the output destinations of the audio encoder and the video encoder are previously determined as the second storage unit and the CPU instructs to the audio encoder and the video encoder the secondary storage unit as the output destination.

Furthermore as another recording method the CPU can designate the multiplexer as the output destination for the audio encoder and the video encoder .

Furthermore as another recording method the output from the QAM demodulation unit may be directly recorded onto the secondary storage unit without through the POD .

Furthermore as another recording method the output from the QAM demodulation unit may be outputted to the TS decoder without through the POD the output from the TS decoder may be inputted to the multiplexer and the output from the multiplexer may be recorded onto the secondary storage unit .

Note that in the case where a content is recorded without through the POD in other words in the case where there is a possibility that the content remains to be encoded it is necessary to bypass the POD at the stage of reproducing the recorded content.

It should be also noted that as a recording method the output from the multiplexer may be stored in the secondary storage unit . In such case one of the following processes is taken the output destination of the multiplexer is previously determined as the secondary storage unit and the CPU designates the secondary storage unit as the output destination of the multiplexer .

Furthermore as another recording method the CPU can designate the secondary storage unit as the output destination of the TS decoder .

Furthermore as another recording method the CPU can designate the multiplexer as the output destination of the TS decoder and the secondary storage unit as the output destination of the multiplexer .

Furthermore in the case where information other than video and audio for example details of DSMCC including an application are recorded data to be stored from among the outputs from the TS decoder are processed by the CPU and then directly stored into the secondary storage unit .

Furthermore it is possible that the data to be stored from among the outputs from the TS decoder are outputted to the multiplexer the outputs are multiplexed by the multiplexer together with the outputs from the audio encoder and the video encoder and the resultants are stored in the secondary storage unit .

Note that while a large capacity medium such as a hard disk and a DVD RAM is preferred for the secondary storage unit any medium is applicable as long as it is recordable.

Note that the data treated as inputs and outputs of the TS decoder the audio decoder the video decoder the audio encoder the video encoder and the multiplexer may be arbitrary encoded at an arbitrary stage.

The recorded contents may record the details included in the original contents in other words video audio application and the like simultaneously with their relevance and additional information for example time and program information .

It should be noted that the present invention can be realized as long as the recorded contents can be reproduced despite recording methods and recording units.

Although only some exemplary embodiments of this invention have been described in detail above those skilled in the art will readily appreciate that many modifications are possible in the exemplary embodiments without materially departing from the novel teachings and advantages of this invention. Accordingly all such modifications are intended to be included within the scope of this invention.

The recording and reproduction apparatus the moving picture reproduction apparatus according to the present invention determines in response to an instruction for normal reproduction or trick play whether or not the instruction to be accepted in accordance with a rule. In the case of accepting the instruction the moving picture reproduction apparatus includes a moving picture trick play management unit which retains details of the instruction and a moving picture reproduction processing unit which reproduces a moving picture based on the details retained by the moving picture trick play management unit so that in the moving picture reproduction by the digital television receiving device the present invention can prevent occurrence of a reproduction status that is not expected by an application and the present invention is useful for increasing stability of operations of the application. Furthermore the present invention can be applied for an increase of stability of operations of information devices controlled by software such as not only a digital television but also a personal computer and a cellular phone.

